import{u as R,a as B,b as D,r as m,T as z,F as V,c as A,d as j,e as M,f as r,g as e,o as U,i,Z as O,j as t,t as n,s as I,l as E,p as W,h as q}from"./app-BRAmWWDK.js";import{_ as H}from"./AppLayout-DcYAlXcr.js";import{s as u}from"./index-BLI3-ZB5.js";import{s as x}from"./index-BN5aQcOg.js";import{s as h,a as K}from"./index-6CLnIpjK.js";import{s as Z}from"./index-CsEuBKcf.js";import{s as G}from"./index-Ci1herNU.js";import{s as J}from"./index-DZHXsoj_.js";import{a as Q,s as X}from"./index-BvqM3u8T.js";import{s as Y}from"./index-BeqJB9dn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BJ7aGovM.js";import"./index-ClmdxtMW.js";import"./index-B0W91G3B.js";import"./index-CcU6oDqo.js";import"./index-LMQAJ2bo.js";import"./index-BeaEkU56.js";import"./index-RIg7_KOk.js";import"./index-CDA2CSiu.js";import"./index-DBlwtJFe.js";import"./index-D3aGqElX.js";const ee={class:"min-h-screen bg-slate-50/50 p-4 lg:p-8 font-sans"},te={class:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-8"},se={class:"flex items-center gap-4"},ie=t("div",{class:"flex h-16 w-16 items-center justify-center rounded-[2rem] bg-primary-600 shadow-xl shadow-primary-200"},[t("i",{class:"pi pi-box text-2xl text-white"})],-1),oe={class:"text-3xl font-black text-slate-900 tracking-tight"},le={class:"text-slate-500 font-medium"},ae={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},ne={class:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm"},re={class:"flex flex-col gap-2"},de={class:"text-xs font-black text-slate-400 uppercase tracking-widest"},ce={class:"flex items-center justify-between"},ue={class:"text-3xl font-black text-slate-800"},pe=t("div",{class:"w-10 h-10 rounded-2xl bg-slate-50 flex items-center justify-center"},[t("i",{class:"pi pi-database text-slate-400"})],-1),me={class:"bg-white rounded-[2rem] shadow-xl border border-slate-200 overflow-hidden"},fe={class:"flex flex-col md:flex-row justify-between items-center gap-4 p-4"},xe={class:"flex items-center gap-3"},be={class:"font-bold text-slate-700"},ge={class:"px-3 py-1 bg-slate-100 text-slate-600 rounded-lg font-mono font-bold text-sm"},ve={class:"flex justify-end gap-1"},he={class:"px-8 py-5 bg-slate-900 text-white rounded-xl flex justify-between items-center relative z-50"},_e={class:"flex items-center gap-4"},ye=t("div",{class:"w-12 h-12 bg-primary-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-primary-200"},[t("i",{class:"pi pi-box text-xl"})],-1),we={class:"font-black text-slate-100 m-0"},ke={class:"text-xs text-slate-500 m-0"},Ce={class:"p-6 bg-white space-y-6"},Ve={class:"flex flex-col gap-2"},je={for:"designation",class:"text-xs font-black text-slate-500 uppercase"},Ue={key:0,class:"text-red-500 font-bold italic"},$e={class:"flex flex-col gap-2"},Se={for:"abreviation",class:"text-xs font-black text-slate-500 uppercase"},Te={class:"flex justify-between items-center w-full px-8 py-5 bg-slate-50 border-t border-slate-100"},Xe={__name:"Unities",props:{unities:Array,filters:Object},setup(_){var C;const{t:s}=R(),y=_,b=B(),$=D(),p=m(!1),g=m(!1),c=m(!1);m(((C=y.filters)==null?void 0:C.search)||"");const w=m(),l=z({id:null,designation:"",abreviation:""}),f=m({global:{value:null,matchMode:V.CONTAINS},designation:{operator:A.AND,constraints:[{value:null,matchMode:V.STARTS_WITH}]}}),S=j(()=>({total:y.unities.length})),T=()=>{l.reset(),c.value=!1,g.value=!1,p.value=!0},k=()=>{p.value=!1,g.value=!1},P=d=>{l.id=d.id,l.designation=d.designation,l.abreviation=d.abreviation,c.value=!0,p.value=!0},L=()=>{if(g.value=!0,!l.designation)return;const d=c.value?route("unities.update",l.id):route("unities.store"),a=c.value?"put":"post";l.submit(a,d,{onSuccess:()=>{p.value=!1,b.add({severity:"success",summary:s("common.success"),detail:c.value?s("unities.messages.updateSuccess"):s("unities.messages.createSuccess"),life:3e3}),l.reset()},onError:()=>{b.add({severity:"error",summary:s("common.error"),detail:s("common.errorOccurred"),life:3e3})}})},N=d=>{$.require({message:s("unities.messages.confirmDelete",{name:d.designation}),header:s("common.deleteConfirmation"),icon:"pi pi-exclamation-circle",rejectLabel:s("common.cancel"),acceptLabel:s("common.delete"),rejectClass:"p-button-secondary p-button-outlined",acceptClass:"p-button-danger",accept:()=>{q.delete(route("unities.destroy",d.id),{onSuccess:()=>{b.add({severity:"success",summary:s("common.success"),detail:s("unities.messages.deleteSuccess"),life:3e3})}})}})},F=j(()=>c.value?s("unities.dialog.editTitle"):s("unities.dialog.createTitle"));return(d,a)=>(U(),M(H,{title:e(s)("unities.title")},{default:r(()=>[i(e(O),{title:e(s)("unities.title")},null,8,["title"]),t("div",ee,[t("div",te,[t("div",se,[ie,t("div",null,[t("h1",oe,n(e(s)("unities.title")),1),t("p",le,n(e(s)("unities.subtitle")),1)])]),i(e(u),{label:e(s)("unities.actions.add"),icon:"pi pi-plus",raised:"",onClick:T,class:"rounded-xl px-6 h-14 font-black"},null,8,["label"])]),t("div",ae,[t("div",ne,[t("div",re,[t("span",de,n(e(s)("common.total",{item:"Unités"})),1),t("div",ce,[t("span",ue,n(S.value.total),1),pe])])])]),t("div",me,[i(e(G)),i(e(J)),i(e(K),{ref_key:"dt",ref:w,value:_.unities,dataKey:"id",filters:f.value,"onUpdate:filters":a[2]||(a[2]=o=>f.value=o),globalFilterFields:["designation","abreviation"],paginator:!0,rows:10,class:"p-datatable-custom",responsiveLayout:"scroll",paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:e(s)("common.paginationReport",{first:"{first}",last:"{last}",total:"{totalRecords}",item:"unités"})},{header:r(()=>[t("div",fe,[i(e(Q),{iconPosition:"left"},{default:r(()=>[i(e(X),{class:"pi pi-search text-slate-400"}),i(e(x),{modelValue:f.value.global.value,"onUpdate:modelValue":a[0]||(a[0]=o=>f.value.global.value=o),placeholder:e(s)("common.search"),class:"w-full md:w-80 rounded-2xl border-slate-200 bg-slate-50/50 focus:bg-white"},null,8,["modelValue","placeholder"])]),_:1}),i(e(u),{icon:"pi pi-download",text:"",rounded:"",severity:"secondary",onClick:a[1]||(a[1]=o=>w.value.exportCSV())})])]),default:r(()=>[i(e(h),{field:"designation",header:e(s)("unities.fields.name"),sortable:""},{body:r(({data:o})=>[t("div",xe,[i(e(Y),{label:o.designation[0].toUpperCase(),shape:"circle",class:"bg-primary-50 text-primary-600 font-bold"},null,8,["label"]),t("span",be,n(o.designation),1)])]),filter:r(({filterModel:o})=>[i(e(x),{modelValue:o.value,"onUpdate:modelValue":v=>o.value=v,type:"text",class:"p-column-filter",placeholder:e(s)("common.searchByName")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:1},8,["header"]),i(e(h),{field:"abreviation",header:e(s)("unities.fields.symbol")},{body:r(({data:o})=>[t("span",ge,n(o.abreviation||"--"),1)]),_:1},8,["header"]),i(e(h),{header:e(s)("common.actions"),alignFrozen:"right",frozen:"",class:"min-w-[120px]"},{body:r(({data:o})=>[t("div",ve,[i(e(u),{icon:"pi pi-pencil",text:"",rounded:"",severity:"info",onClick:v=>P(o)},null,8,["onClick"]),i(e(u),{icon:"pi pi-trash",text:"",rounded:"",severity:"danger",onClick:v=>N(o)},null,8,["onClick"])])]),_:1},8,["header"])]),_:1},8,["value","filters","currentPageReportTemplate"])])]),i(e(Z),{visible:p.value,"onUpdate:visible":a[5]||(a[5]=o=>p.value=o),modal:"",header:!1,closable:!1,style:{width:"90vw",maxWidth:"600px"},pt:{root:{class:"rounded-[3rem] overflow-hidden border-none shadow-2xl"},mask:{style:"backdrop-filter: blur(8px)"}}},{footer:r(()=>[t("div",Te,[i(e(u),{label:e(s)("common.cancel"),icon:"pi pi-times",text:"",severity:"secondary",onClick:k,class:"font-bold uppercase text-[10px] tracking-widest"},null,8,["label"]),i(e(u),{label:c.value?e(s)("common.update"):e(s)("common.save"),icon:"pi pi-check-circle",severity:"indigo",class:"px-10 h-14 rounded-2xl shadow-xl shadow-indigo-100 font-black uppercase tracking-widest text-xs",onClick:L,loading:e(l).processing},null,8,["label","loading"])])]),default:r(()=>[t("div",he,[t("div",_e,[ye,t("div",null,[t("h4",we,n(F.value),1),t("p",ke,n(c.value?e(s)("unities.dialog.editSubtitle"):e(s)("unities.dialog.createSubtitle")),1)])]),i(e(u),{icon:"pi pi-times",variant:"text",severity:"secondary",rounded:"",onClick:k,class:"text-white hover:bg-white/10"})]),t("div",Ce,[t("div",Ve,[t("label",je,n(e(s)("unities.fields.name")),1),i(e(x),{id:"designation",modelValue:e(l).designation,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).designation=o),modelModifiers:{trim:!0},autofocus:"",class:I([{"p-invalid":e(l).errors.designation},"w-full py-3.5 rounded-xl border-slate-200"])},null,8,["modelValue","class"]),e(l).errors.designation?(U(),E("small",Ue,n(e(l).errors.designation),1)):W("",!0)]),t("div",$e,[t("label",Se,n(e(s)("unities.fields.symbol")),1),i(e(x),{id:"abreviation",modelValue:e(l).abreviation,"onUpdate:modelValue":a[4]||(a[4]=o=>e(l).abreviation=o),class:"w-full py-3.5 rounded-xl border-slate-200",placeholder:"ex: kg, m, pcs"},null,8,["modelValue"])])])]),_:1},8,["visible"])]),_:1},8,["title"]))}};export{Xe as default};
