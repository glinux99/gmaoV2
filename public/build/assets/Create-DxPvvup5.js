import{s as w}from"./index-_H4U2U1q.js";import{s as C}from"./index-CASASU4u.js";import{s as B}from"./index-DYwZWGlh.js";import{s as j}from"./index-CiHAvnIS.js";import{Y as N,T as A,af as E,e as I,f as U,o as r,j as o,i as n,g as l,l as c,t as m,p as _,n as $,m as D,A as F}from"./app-tNqL7mf1.js";import"./index-CZa1m6mU.js";const T={class:"flex flex-col gap-4"},L={class:"flex flex-col gap-2"},M=o("label",{for:"name"},"Name",-1),O={key:0,class:"text-red-500"},P={class:"flex flex-col"},Y=o("label",{for:"permissions"},"Permissions",-1),q={class:"flex justify-start items-center space-x-2 mt-2"},z=o("label",{for:"check_all",class:"ml-2"}," Check All ",-1),G={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 mt-2"},H=["for"],J={key:0,class:"text-red-500"},K={class:"flex justify-end gap-2"},se={__name:"Create",props:{show:Boolean,title:String,permissions:Object},emits:["close"],setup(h,{emit:g}){const i=h,d=g,a=N({multipleSelect:!1}),e=A({name:"",guard_name:"web",permissions:[]}),x=()=>{e.post(route("role.store"),{preserveScroll:!0,onSuccess:()=>{d("close"),e.reset()},onError:()=>null,onFinish:()=>null})};E(()=>{i.show&&(e.errors={})});const v=p=>{p.target.checked===!1?e.permissions=[]:(e.permissions=[],i.permissions.forEach(s=>{e.permissions.push(s.id)}))},b=()=>{i.permissions.length==e.permissions.length?a.multipleSelect=!0:a.multipleSelect=!1};return(p,s)=>{const y=j,u=B,f=C,k=w;return r(),I(k,{visible:i.show,"onUpdate:visible":s[4]||(s[4]=t=>i.show=t),position:"center",modal:"",header:"Add "+i.title,style:{width:"50rem"},closable:!1},{default:U(()=>[o("form",{onSubmit:F(x,["prevent"])},[o("div",T,[o("div",L,[M,n(y,{id:"name",modelValue:l(e).name,"onUpdate:modelValue":s[0]||(s[0]=t=>l(e).name=t),class:"flex-auto",autocomplete:"off",placeholder:"Name"},null,8,["modelValue"]),l(e).errors.name?(r(),c("small",O,m(l(e).errors.name),1)):_("",!0)]),o("div",P,[Y,o("div",q,[n(u,{modelValue:a.multipleSelect,"onUpdate:modelValue":s[1]||(s[1]=t=>a.multipleSelect=t),onChange:v,inputId:"check_all",binary:!0},null,8,["modelValue"]),z]),o("div",G,[(r(!0),c(D,null,$(i.permissions,(t,V)=>(r(),c("div",{class:"flex items-center justify-start space-x-2",key:V},[n(u,{modelValue:l(e).permissions,"onUpdate:modelValue":s[2]||(s[2]=S=>l(e).permissions=S),onChange:b,inputId:"permission_"+t.id,value:t.id},null,8,["modelValue","inputId","value"]),o("label",{for:"permission_"+t.id,class:"ml-2"},m(t.name),9,H)]))),128))]),l(e).errors.permissions?(r(),c("small",J,m(l(e).errors.permissions),1)):_("",!0)]),o("div",K,[n(f,{type:"button",label:"Cancel",severity:"secondary",onClick:s[3]||(s[3]=t=>d("close"))}),n(f,{type:"submit",label:"Save"})])])],32)]),_:1},8,["visible","header"])}}};export{se as default};
