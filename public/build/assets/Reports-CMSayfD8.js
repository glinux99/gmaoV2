const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-DFxbjXPs.js","assets/app-BTm5MPCd.js","assets/app-B0doDMtN.css"])))=>i.map(i=>d[i]);
import{a as Ke,b as He,r as V,Y as Qe,d as ee,_ as Ze,a1 as F,a0 as ye,aO as et,w as tt,l as n,j as o,s as i,q as y,i as u,f as A,t as b,m as D,n as R,U as $,e as K,g as ot,p as m,v as z,aH as lt,bf as ke,o as s,A as W,V as xe,ae as at,x as st,y as nt}from"./app-BTm5MPCd.js";import{T as it}from"./index-CQck-czE.js";import{s as rt}from"./index-DggD9_PH.js";import{s as dt}from"./index-DWk9iUT_.js";import{s as ut}from"./index-C9ua_LZc.js";import{a as ct,s as pt}from"./index-4yjLQzRo.js";import{s as gt}from"./index-CZPsBpjb.js";import{s as vt}from"./index-X3iKIzTH.js";import{s as mt}from"./index-DGDWVGXJ.js";import{s as ft}from"./index-FoBtjduF.js";import{s as ht}from"./index-DR_P-HCg.js";import{s as bt}from"./index-DR-PVOhd.js";import{C as yt,p as kt,a as xt,b as _t,B as Ct,c as wt,L as St,P as Vt,d as $t,A as Ut,R as Tt}from"./chart-B59wzfTt.js";import{B as _e,L as Lt,P as Dt,D as Rt,R as Wt}from"./index-B2aPQYyG.js";import{d as Et}from"./vuedraggable.umd-xlZNDq6S.js";import{_ as Pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DOcyrvpR.js";import"./index-sPpDuk3t.js";import"./index-DJd_Kodp.js";import"./index-CwE9RYdH.js";import"./index-U7kuayBf.js";const v=H=>(st("data-v-c79654cf"),H=H(),nt(),H),It={class:"flex items-center gap-6"},Mt=lt('<div class="flex items-center gap-3 group cursor-pointer" data-v-c79654cf><div class="w-9 h-9 bg-primary-600 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/20 group-hover:scale-110 transition-transform" data-v-c79654cf><i class="pi pi-bolt text-white" data-v-c79654cf></i></div><div class="flex flex-col" data-v-c79654cf><span class="text-[11px] font-black tracking-[0.2em] uppercase leading-none" data-v-c79654cf>Quantum <span class="text-primary-400" data-v-c79654cf>Omni</span></span><span class="text-[8px] text-slate-500 font-bold tracking-tighter uppercase mt-1" data-v-c79654cf>v11.5 Studio Engine</span></div></div>',1),At={class:"flex items-center gap-2"},zt={class:"flex justify-between items-center w-full"},Nt={class:"flex items-center gap-4"},jt={class:"flex items-center gap-2"},Bt={class:"text-[10px] font-black uppercase tracking-widest min-w-[80px] text-center"},Ot={class:"flex items-center gap-3"},Ft=v(()=>o("i",{class:"pi pi-search text-[10px] text-slate-500"},null,-1)),qt={class:"flex-grow flex overflow-hidden"},Jt=["onClick"],Yt={class:"absolute left-16 bg-primary-600 text-[8px] font-bold px-2 py-1 rounded opacity-0 group-hover:opacity-100 uppercase tracking-tighter whitespace-nowrap z-50 shadow-xl"},Xt=["onClick","onMousedown"],Gt={class:"p-2 text-primary-400 cursor-move"},Kt=v(()=>o("i",{class:"pi pi-arrows-alt text-[10px]"},null,-1)),Ht=[Kt],Qt=["onClick"],Zt=["onClick"],eo=v(()=>o("i",{class:"pi pi-copy text-[10px]"},null,-1)),to=[eo],oo=["onClick"],lo=v(()=>o("i",{class:"pi pi-trash text-[10px]"},null,-1)),ao=[lo],so={key:0,class:"w-full h-full no-drag flex-grow"},no=["onBlur"],io={key:1,class:"w-full h-full overflow-hidden no-drag bg-white rounded-lg shadow-inner flex-grow"},ro={class:"w-full h-full border-collapse"},uo={key:2,class:"w-full h-full p-2 pointer-events-none flex-grow"},co={key:3,class:"w-full h-full flex flex-col justify-center px-4 no-drag flex-grow"},po={class:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},go={class:"flex items-baseline gap-1"},vo={class:"text-[10px] font-bold text-emerald-500"},mo={key:4,class:"w-full h-full no-drag flex-grow"},fo=["src"],ho={key:1,class:"w-full h-full bg-slate-100 flex items-center justify-center flex-col text-slate-400"},bo=v(()=>o("i",{class:"pi pi-image text-4xl"},null,-1)),yo=v(()=>o("span",{class:"text-xs mt-2"},"Utilisez l'inspecteur pour choisir",-1)),ko=[bo,yo],xo=["onChange"],_o={key:5,class:"w-full h-full flex items-center justify-center no-drag flex-grow"},Co=["viewBox"],wo=["y1","x2","y2","stroke","stroke-width","stroke-dasharray"],So=["fill","stroke","stroke-width","stroke-dasharray"],Vo=["cx","cy","rx","ry","fill","stroke","stroke-width","stroke-dasharray"],$o=["cx","cy","r","fill","stroke","stroke-width","stroke-dasharray"],Uo=["points","fill","stroke","stroke-width","stroke-dasharray"],To=["transform","fill","stroke","stroke-width","stroke-dasharray"],Lo=["onMousedown"],Do=v(()=>o("div",{class:"w-2 h-2 bg-primary-500 rounded-sm opacity-0 group-hover/widget:opacity-100"},null,-1)),Ro=[Do],Wo=["onClick"],Eo={class:"absolute -top-11 left-0 flex gap-1 opacity-0 group-hover/widget:opacity-100 transition-all no-drag z-[60] bg-slate-900/80 backdrop-blur-sm border border-white/10 rounded-lg shadow-2xl"},Po=v(()=>o("i",{class:"pi pi-arrows-alt text-[10px]"},null,-1)),Io=[Po],Mo=["onClick"],Ao=["onClick"],zo=v(()=>o("i",{class:"pi pi-copy text-[10px]"},null,-1)),No=[zo],jo=["onClick"],Bo=v(()=>o("i",{class:"pi pi-trash text-[10px]"},null,-1)),Oo=[Bo],Fo={key:0,class:"w-full h-full no-drag flex-grow"},qo=["onBlur"],Jo={key:1,class:"w-full h-full overflow-hidden no-drag bg-white rounded-lg shadow-inner flex-grow"},Yo={class:"w-full h-full border-collapse"},Xo={key:2,class:"w-full h-full p-2 pointer-events-none flex-grow"},Go={key:3,class:"w-full h-full flex flex-col justify-center px-4 no-drag flex-grow"},Ko={class:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},Ho={class:"flex items-baseline gap-1"},Qo={class:"text-[10px] font-bold text-emerald-500"},Zo={key:4,class:"w-full h-full no-drag flex-grow"},el=["src"],tl={key:1,class:"w-full h-full bg-slate-100 flex items-center justify-center flex-col text-slate-400"},ol=v(()=>o("i",{class:"pi pi-image text-4xl"},null,-1)),ll=v(()=>o("span",{class:"text-xs mt-2"},"Utilisez l'inspecteur pour choisir",-1)),al=[ol,ll],sl=["onChange"],nl={key:5,class:"w-full h-full flex items-center justify-center no-drag flex-grow"},il=["viewBox"],rl=["y1","x2","y2","stroke","stroke-width"],dl=["fill","stroke","stroke-width","stroke-dasharray"],ul=["cx","cy","rx","ry","fill","stroke","stroke-width"],cl=["cx","cy","r","fill","stroke","stroke-width"],pl=["points","fill","stroke","stroke-width"],gl=["transform","fill","stroke","stroke-width"],vl={key:0,class:"p-8 space-y-10 animate-in fade-in slide-in-from-right duration-300"},ml={class:"flex gap-2"},fl=v(()=>o("i",{class:"pi pi-angle-up"},null,-1)),hl=[fl],bl=v(()=>o("i",{class:"pi pi-angle-down"},null,-1)),yl=[bl],kl={class:"space-y-6"},xl={class:"field"},_l=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Fond",-1)),Cl={class:"field"},wl=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Bordure",-1)),Sl={class:"grid grid-cols-3 gap-2"},Vl={class:"field"},$l={class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},Ul={key:0,class:"space-y-6"},Tl={class:"field"},Ll={class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},Dl={class:"field"},Rl={class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},Wl={key:1,class:"space-y-4"},El={class:"grid grid-cols-2 gap-4"},Pl={class:"field"},Il=v(()=>o("label",{class:"text-[8px] uppercase opacity-50 block mb-1"},"Header Fond",-1)),Ml={class:"field"},Al=v(()=>o("label",{class:"text-[8px] uppercase opacity-50 block mb-1"},"Texte Fond",-1)),zl={key:2,class:"space-y-6"},Nl={class:"flex items-center gap-4"},jl={class:"grid grid-cols-4 gap-2"},Bl=v(()=>o("i",{class:"pi pi-bold"},null,-1)),Ol=[Bl],Fl=v(()=>o("i",{class:"pi pi-italic"},null,-1)),ql=[Fl],Jl={class:"grid grid-cols-4 gap-2"},Yl=v(()=>o("i",{class:"pi pi-align-left"},null,-1)),Xl=[Yl],Gl=v(()=>o("i",{class:"pi pi-align-center"},null,-1)),Kl=[Gl],Hl=v(()=>o("i",{class:"pi pi-align-right"},null,-1)),Ql=[Hl],Zl=v(()=>o("i",{class:"pi pi-align-justify"},null,-1)),ea=[Zl],ta={class:"flex items-center gap-4"},oa=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40"},"Couleur",-1)),la={key:3,class:"space-y-6"},aa=v(()=>o("h4",{class:"text-[9px] font-black uppercase tracking-widest text-slate-500 italic"},"Style de la Forme",-1)),sa={class:"bg-white/5 p-4 rounded-xl space-y-4"},na={class:"field"},ia=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Type de Forme",-1)),ra={class:"field"},da=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Couleur du Trait",-1)),ua={class:"flex items-center gap-2 bg-black/20 p-1 rounded-lg"},ca={class:"field"},pa={class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},ga={class:"field"},va=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Style du Trait",-1)),ma={key:4,class:"space-y-6"},fa=v(()=>o("h4",{class:"text-[9px] font-black uppercase tracking-widest text-slate-500 italic"},"Configuration KPI",-1)),ha={class:"bg-white/5 p-4 rounded-xl space-y-4"},ba={class:"field"},ya=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40"},"Préfixe",-1)),ka={class:"flex items-center gap-4"},xa=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40"},"Couleur Valeur",-1)),_a={class:"flex-grow flex items-center gap-2 bg-black/20 p-1 rounded-lg"},Ca={key:5,class:"space-y-4"},wa={key:6,class:"space-y-6"},Sa={class:"bg-primary-900/20 border border-primary-500/30 p-5 rounded-2xl space-y-4"},Va={key:0,class:"space-y-3"},$a={key:0,class:"grid grid-cols-2 gap-2"},Ua=["onClick"],Ta={class:"text-[8px] font-black uppercase mt-2"},La={key:1},Da={key:7,class:"space-y-4"},Ra=["onUpdate:modelValue"],Wa={key:1,class:"p-8 space-y-8"},Ea={class:"p-4 space-y-6"},Pa={class:"field"},Ia=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Format",-1)),Ma={class:"field"},Aa=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Orientation",-1)),za={class:"field"},Na=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Couleur de Fond",-1)),ja={class:"field"},Ba=v(()=>o("label",{class:"text-[9px] font-black uppercase opacity-40 mb-2 block"},"Mode de Disposition",-1)),Oa={class:"p-4 space-y-4"},Fa={class:"space-y-2 max-h-[60vh] overflow-y-auto custom-scrollbar pr-2"},qa=["onDragstart","onDrop","onClick"],Ja=v(()=>o("div",{class:"w-16 h-20 bg-white flex-shrink-0 rounded-sm shadow-md overflow-hidden"},null,-1)),Ya={class:"flex-grow"},Xa={class:"flex flex-col"},Ga={class:"grid grid-cols-12 gap-8 p-4"},Ka={class:"col-span-3 border-r border-white/10 pr-6 space-y-4"},Ha={class:"flex justify-between items-center"},Qa=v(()=>o("h5",{class:"text-primary-400 font-bold uppercase text-[10px]"},"Colonnes",-1)),Za={class:"pt-6 border-t border-white/10"},es={class:"col-span-9"},ts={class:"flex justify-between items-center mb-4"},os=v(()=>o("h5",{class:"text-slate-400 font-bold uppercase text-[10px]"},"Prévisualisation des données",-1)),ls={class:"max-h-[500px] overflow-auto border border-white/5 rounded-xl"},as={class:"w-full text-xs"},ss={class:"bg-white/5 sticky top-0"},ns={class:"p-1 w-12 text-center"},is={class:"field"},rs=v(()=>o("label",{for:"templateName",class:"font-semibold"},"Nom du modèle",-1)),ds={__name:"Reports",setup(H){yt.register(kt,xt,_t,Ct,wt,St,Vt,$t,Ut,Tt);const k=Ke(),te=He(),oe=V(!1),f=V(0),L=V(null),N=V(.8),Q=V(!1),le=V(null),j=V([]),r=V("dark"),q=V([]),J=V(!1),B=V(""),Z=V(null),Y=V(!1),x=Qe({tempColumns:[],tempRows:[]}),U=V([]),P=V(-1),w=()=>{if(!p.value)return;const l=JSON.stringify(p.value);P.value<U.value.length-1&&(U.value=U.value.slice(0,P.value+1)),U.value.push(l),U.value.length>50&&U.value.shift(),P.value=U.value.length-1},re=()=>{P.value>0&&(P.value--,p.value=JSON.parse(U.value[P.value]),k.add({severity:"info",summary:"Action annulée",life:800}))},de=()=>{U.value.length>0&&P.value<U.value.length-1&&(P.value++,p.value=JSON.parse(U.value[P.value]),k.add({severity:"info",summary:"Action rétablie",life:800}))},Ce=ee(()=>U.value.length>1&&P.value>0),we=ee(()=>U.value.length>0&&P.value<U.value.length-1),ue=[{label:"Plein",value:"solid"},{label:"Tirets",value:"dashed"},{label:"Pointillés",value:"dotted"},{label:"Aucun",value:"none"}],ae=[{name:"A4",w:793,h:1122},{name:"A3",w:1122,h:1587},{name:"A2",w:1587,h:2245},{name:"A1",w:2245,h:3179},{name:"A0",w:3179,h:4494},{name:"US Letter",w:816,h:1056}],Se=["Inter","Roboto","Montserrat","Playfair Display","Fira Code","Lato"],Ve=[{label:"Barres",value:"bar",icon:"pi pi-chart-bar"},{label:"Lignes",value:"line",icon:"pi pi-chart-line"},{label:"Secteurs",value:"pie",icon:"pi pi-chart-pie"},{label:"Donut",value:"doughnut",icon:"pi pi-circle"},{label:"Radar",value:"radar",icon:"pi pi-directions"}],p=V([{id:"p_initial",name:"Nouveau Rapport",background:"#ffffff",format:ae[0],orientation:"portrait",layoutMode:"absolute",widgets:[]}]),$e=l=>{let t={id:"w_"+Date.now(),type:l,colSpan:4,rowSpan:2,x:100,y:150,w:l==="kpi"?250:450,h:l==="kpi"?140:300,isLocked:!1,isSyncing:!1,chartType:l==="chart"?"bar":null,style:{backgroundColor:l==="text"?"transparent":"#ffffff",borderRadius:8,borderWidth:l==="text"||l==="shape"?0:1,borderColor:"#CBD5E1",borderStyle:"solid",opacity:1,zIndex:10,shadow:l==="text"?"none":"0 4px 6px -1px rgba(0,0,0,0.1)",rotation:0,padding:15},config:{headerBg:"#1e293b",headerColor:"#ffffff",striped:!0,fontSize:12,cellPadding:8},data:{columns:[],rows:[]}};l==="text"?(t.content="Double-cliquez pour éditer le texte...",t.config={font:"Inter",size:18,color:"#1E293B",align:"left",weight:"500",italic:!1,underline:!1,uppercase:!1}):l==="chart"?(t.dataSources=[{model:null,column:null,formula:"count",color:"#6366F1"}],t.data={labels:["Jan","Fev","Mar"],datasets:[{label:"Exemple",data:[10,45,23],backgroundColor:"#6366F1"}]},t.config={timeScale:"months"}):l==="table"?t.data={columns:["Référence","Status","Total"],rows:[{Référence:"INV-001",Status:"Payé",Total:"1,200 €"}]}:l==="kpi"?(t.dataSource={model:null,column:null,method:"COUNT"},t.config={label:"NOUVEAU KPI",value:"0.00",color:"#6366F1",prefix:"",trend:"",timeScale:"days"}):l==="image"?t.imageUrl=null:l==="shape"&&(t.w=300,t.h=10,t.style.backgroundColor="transparent",t.style.borderWidth=0,t.style.padding=0,t.config={shapeType:"line",strokeColor:"#334155",strokeWidth:4,strokeStyle:"solid"}),p.value[f.value].widgets.push(t),L.value=p.value[f.value].widgets.length-1,w()},ce=l=>{const t=p.value[f.value].widgets[l],d=JSON.parse(JSON.stringify(t));d.id="w_"+Date.now(),d.x+=20,d.y+=20,p.value[f.value].widgets.push(d),L.value=p.value[f.value].widgets.length-1,w(),k.add({severity:"info",summary:"Dupliqué",detail:"Le bloc a été cloné.",life:2e3})},pe=l=>{te.require({message:"Voulez-vous vraiment supprimer ce bloc ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{p.value[f.value].widgets.splice(l,1),L.value=null,w()}})},Ue=()=>{a.value&&a.value.type==="table"&&(x.tempColumns=[...a.value.data.columns],x.tempRows=JSON.parse(JSON.stringify(a.value.data.rows)),Y.value=!0)},Te=()=>{const l=`Col ${x.tempColumns.length+1}`;x.tempColumns.push(l),x.tempRows.forEach(t=>t[l]="-")},Le=l=>{const t=x.tempColumns.indexOf(l);t>-1&&(x.tempColumns.splice(t,1),x.tempRows.forEach(d=>{delete d[l]}))},De=()=>{const l={};x.tempColumns.forEach(t=>l[t]=""),x.tempRows.push(l)},Re=()=>{a.value.data.columns=[...x.tempColumns],a.value.data.rows=[...x.tempRows],Y.value=!1,w()},We=l=>{const t=l.target.files[0];if(!t)return;const d=new FileReader;d.onload=g=>{const _=g.target.result.split(`
`);if(_.length>0){const M=_[0].split(",").map(E=>E.trim()),I=_.slice(1).filter(E=>E.trim()!=="").map(E=>{const O=E.split(","),X={};return M.forEach((ne,ie)=>{var S;return X[ne]=((S=O[ie])==null?void 0:S.trim())||""}),X});x.tempColumns=M,x.tempRows=I,a.value&&a.value.type==="table"&&(a.value.data.columns=M,a.value.data.rows=I,w()),k.add({severity:"success",summary:"CSV Importé",detail:`${I.length} lignes chargées.`})}},d.readAsText(t)},Ee=(l,t,d)=>{L.value=d,Q.value=!0;const g=l.clientX,C=l.clientY,_=t.x,M=t.y,I=O=>{Q.value&&(t.x=_+(O.clientX-g)/N.value,t.y=M+(O.clientY-C)/N.value)},E=()=>{Q.value=!1,w(),window.removeEventListener("mouseup",E,{once:!0}),window.removeEventListener("mousemove",I)};window.addEventListener("mousemove",I),window.addEventListener("mouseup",E,{once:!0})},Pe=(l,t)=>{l.preventDefault(),l.stopPropagation();const d=t.w,g=t.h,C=l.clientX,_=l.clientY,M=E=>{t.w=Math.max(50,d+(E.clientX-C)/N.value),t.h=Math.max(30,g+(E.clientY-_)/N.value)},I=()=>{w(),window.removeEventListener("mousemove",M)};window.addEventListener("mousemove",M),window.addEventListener("mouseup",I,{once:!0})},Ie=async l=>{var t,d;if(l.type==="chart"&&(!l.dataSources||l.dataSources.some(g=>!g.model||!g.column))||l.type==="kpi"&&(!l.dataSource||!l.dataSource.model||!l.dataSource.column)){k.add({severity:"warn",summary:"Configuration incomplète",detail:"Veuillez sélectionner un modèle et un champ.",life:4e3});return}l.isSyncing=!0;try{const g={type:l.type};l.type==="chart"&&(g.config={sources:l.dataSources,timeScale:l.config.timeScale}),l.type==="kpi"&&(g.config={...l.dataSource,timeScale:l.config.timeScale});const C=await F.post(route("quantum.query"),g);l.type==="chart"&&(l.data=C.data,k.add({severity:"success",summary:"Synchronisé",detail:"Les données du graphique ont été mises à jour.",life:2e3})),l.type==="kpi"&&(l.config.value=C.data.value,l.config.label=C.data.label,k.add({severity:"success",summary:"Synchronisé",detail:"La valeur du KPI a été mise à jour.",life:2e3})),w()}catch(g){console.error("Erreur lors de la synchronisation:",g),k.add({severity:"error",summary:"Erreur Backend",detail:((d=(t=g.response)==null?void 0:t.data)==null?void 0:d.message)||"Impossible de récupérer les données."})}finally{l.isSyncing=!1}},Me=()=>{p.value.push({id:"p_"+Date.now(),name:`Page ${p.value.length+1}`,background:"#ffffff",format:ae[0],orientation:"portrait",layoutMode:"absolute",widgets:[]}),w(),k.add({severity:"success",summary:"Page Ajoutée",life:1500})},Ae=l=>{if(p.value.length<=1){k.add({severity:"warn",summary:"Action impossible",detail:"Le document doit contenir au moins une page.",life:3e3});return}p.value.splice(l,1),f.value>=p.value.length&&(f.value=p.value.length-1),w(),k.add({severity:"info",summary:"Page supprimée",life:1500})},ze=l=>{const t=p.value[l],d=JSON.parse(JSON.stringify(t));d.id="p_"+Date.now(),d.name=`${t.name} (Copie)`,p.value.splice(l+1,0,d),w(),k.add({severity:"success",summary:"Page Dupliquée",life:1500})},Ne=l=>{w()},je=(l,t)=>{const d=le.value;if(d===null||d===t)return;const g=p.value.splice(d,1)[0];p.value.splice(t,0,g),le.value=null,w()},ge=async()=>{if(!B.value.trim()){k.add({severity:"warn",summary:"Nom requis",detail:"Veuillez donner un nom à votre modèle.",life:3e3});return}try{const l={name:B.value,content:JSON.stringify(p.value)},t=await F.post(route("report-templates.store"),l);q.value.push(t.data),J.value=!1,k.add({severity:"success",summary:"Modèle Sauvegardé",detail:`Le modèle "${B.value}" a été créé.`,life:3e3})}catch(l){console.error("Erreur lors de la sauvegarde du modèle:",l),k.add({severity:"error",summary:"Erreur",detail:"Impossible de sauvegarder le modèle.",life:4e3})}},Be=async l=>{l&&te.require({message:"Charger ce modèle remplacera votre rapport actuel. Voulez-vous continuer ?",header:"Confirmation de chargement",icon:"pi pi-exclamation-triangle",accept:async()=>{try{const t=await F.get(route("report-templates.show",l));p.value=JSON.parse(t.data.content),f.value=0,L.value=null,U.value=[JSON.stringify(p.value)],P.value=0,k.add({severity:"success",summary:"Modèle Chargé",detail:`Le modèle "${t.data.name}" est prêt.`,life:3e3})}catch(t){console.error("Erreur lors du chargement du modèle:",t),k.add({severity:"error",summary:"Erreur",detail:"Impossible de charger le modèle.",life:4e3})}finally{Z.value=null}},reject:()=>{Z.value=null}})},Oe=(l,t)=>{te.require({message:`Êtes-vous sûr de vouloir supprimer le modèle "${t}" ? Cette action est irréversible.`,header:"Confirmation de suppression",icon:"pi pi-trash",acceptClass:"p-button-danger",accept:async()=>{try{await F.delete(route("report-templates.destroy",l)),q.value=q.value.filter(d=>d.id!==l),k.add({severity:"success",summary:"Supprimé",detail:`Le modèle "${t}" a été supprimé.`,life:3e3})}catch(d){console.error("Erreur lors de la suppression du modèle:",d),k.add({severity:"error",summary:"Erreur",detail:"Impossible de supprimer le modèle.",life:4e3})}}})},Fe=()=>{B.value=p.value[f.value].name,J.value=!0},ve=l=>{const t=a.value;t&&(l==="up"&&(t.style.zIndex+=10),l==="down"&&(t.style.zIndex=Math.max(0,t.style.zIndex-10)),w())},se=V({}),me=(l,t)=>{const d=l.target.files[0];d&&(t.imageUrl=URL.createObjectURL(d))},qe=l=>{const t=se.value[l];t&&t.click()},Je=async()=>{const{default:l}=await ke(async()=>{const{default:g}=await import("./jspdf.es.min-DFxbjXPs.js").then(C=>C.j);return{default:g}},__vite__mapDeps([0,1,2])),{default:t}=await ke(async()=>{const{default:g}=await import("./html2canvas.esm-CBrSDip1.js");return{default:g}},[]);oe.value=!0;const d=new l("p","mm","a4");for(let g=0;g<p.value.length;g++){f.value=g,await ye(),await new Promise(_=>setTimeout(_,600));const C=await t(document.getElementById("studio-canvas"),{scale:2});g>0&&d.addPage(),d.addImage(C.toDataURL("image/png"),"PNG",0,0,210,297)}d.save("Export_Quantum.pdf"),oe.value=!1},fe=l=>{l.target.tagName==="INPUT"||l.target.contentEditable==="true"||(l.key==="Delete"&&L.value!==null&&(p.value[f.value].widgets.splice(L.value,1),L.value=null,w()),l.ctrlKey&&l.key==="z"&&(l.preventDefault(),re()),l.ctrlKey&&l.key==="y"&&(l.preventDefault(),de()))},a=ee(()=>{const l=p.value[f.value];return l&&L.value!==null?l.widgets[L.value]:null}),Ye=ee(()=>{const l=p.value[f.value];if(!l)return{};const t=l.format,d=l.orientation==="landscape";return{width:(d?t.h:t.w)+"px",height:(d?t.w:t.h)+"px",backgroundColor:l.background,transform:`scale(${N.value})`,transformOrigin:"top center"}}),Xe=l=>({position:"absolute",left:l.x+"px",top:l.y+"px",width:l.w+"px",height:l.h+"px",zIndex:l.style.zIndex||10,opacity:l.style.opacity,backgroundColor:l.style.backgroundColor,borderRadius:l.style.borderRadius+"px",border:`${l.style.borderWidth}px ${l.style.borderStyle} ${l.style.borderColor}`,boxShadow:l.style.shadow,transform:`rotate(${l.style.rotation}deg)`,padding:l.style.padding+"px"}),Ge=l=>({gridColumn:`span ${l.colSpan||4}`,gridRow:`span ${l.rowSpan||2}`,zIndex:l.style.zIndex||10,opacity:l.style.opacity,backgroundColor:l.style.backgroundColor,borderRadius:l.style.borderRadius+"px",border:l.style.borderStyle==="none"?"none":`${l.style.borderWidth}px ${l.style.borderStyle} ${l.style.borderColor}`,boxShadow:l.style.shadow,transform:`rotate(${l.style.rotation}deg)`,padding:l.style.padding+"px"}),he=l=>({bar:_e,line:Lt,pie:Dt,doughnut:Rt,radar:Wt})[l]||_e;return Ze(()=>{F.get(route("report-templates.index")).then(l=>{q.value=l.data}).catch(()=>{k.add({severity:"warn",summary:"Mode Démo",detail:"Impossible de charger les modèles de rapport.",life:3e3})}),F.get("/quantum/models").then(l=>{j.value=l.data}).catch(()=>{j.value=["User","Product","Order","Invoice"],k.add({severity:"warn",summary:"Mode Démo",detail:"Impossible de charger les modèles Laravel. Utilisation de données fictives.",life:3e3})}),window.addEventListener("keydown",fe),ye(()=>{p.value&&(U.value=[JSON.stringify(p.value)],P.value=0)})}),et(()=>{window.removeEventListener("keydown",fe)}),tt(a,l=>{l&&!Q.value&&w()},{deep:!0}),(l,t)=>{var be;const d=bt,g=ht,C=ft,_=mt,M=vt,I=gt,E=pt,O=ct,X=ut,ne=dt,ie=rt,S=it;return s(),n("div",{class:i(["quantum-studio h-screen flex flex-col overflow-hidden font-sans select-none",r.value==="dark"?"bg-[#050507] text-slate-200":"bg-slate-100 text-slate-800"])},[o("header",{class:i(["h-16 flex items-center justify-between px-6 z-[100] shrink-0",r.value==="dark"?"border-b border-white/5 bg-black/60 backdrop-blur-2xl":"border-b border-slate-200 bg-white/80 backdrop-blur-xl"])},[o("div",It,[Mt,o("div",{class:i(["h-8 w-px mx-2",r.value==="dark"?"bg-white/10":"bg-slate-300"])},null,2),o("div",{class:i(["flex items-center gap-1 p-1 rounded-lg",r.value==="dark"?"bg-white/5 border border-white/10":"bg-slate-200/50 border border-slate-300/50"])},[y(u(d,{icon:"pi pi-undo",onClick:re,disabled:!Ce.value,class:i(["p-button-text p-button-sm",r.value==="dark"?"text-slate-400":"text-slate-600"])},null,8,["disabled","class"]),[[S,"Annuler (Ctrl+Z)",void 0,{bottom:!0}]]),y(u(d,{icon:"pi pi-redo",onClick:de,disabled:!we.value,class:i(["p-button-text p-button-sm",r.value==="dark"?"text-slate-400":"text-slate-600"])},null,8,["disabled","class"]),[[S,"Rétablir (Ctrl+Y)",void 0,{bottom:!0}]])],2)]),o("div",At,[u(d,{label:"Sauvegarder comme modèle",icon:"pi pi-save",onClick:Fe,class:i(["p-button-text p-button-sm",r.value==="dark"?"text-slate-400":"text-slate-600"])},null,8,["class"]),u(g,{modelValue:Z.value,"onUpdate:modelValue":t[0]||(t[0]=e=>Z.value=e),options:q.value,optionLabel:"name",optionValue:"id",placeholder:"Charger un modèle",onChange:t[1]||(t[1]=e=>Be(e.value)),class:i(["p-inputtext-sm w-56",r.value==="dark"?"bg-black/40 border-white/10":"bg-white border-slate-300"]),showClear:!0},{option:A(e=>[o("div",zt,[o("span",null,b(e.option.name),1),y(u(d,{icon:"pi pi-trash",class:"p-button-danger p-button-text p-button-rounded p-button-sm",onClick:W(h=>Oe(e.option.id,e.option.name),["stop"])},null,8,["onClick"]),[[S,"Supprimer ce modèle",void 0,{left:!0}]])])]),_:1},8,["modelValue","options","class"])]),o("div",Nt,[o("div",{class:i(["flex items-center rounded-full px-3 py-1.5 gap-4",r.value==="dark"?"bg-black/40 border border-white/10":"bg-slate-200/50 border border-slate-300/50"])},[o("div",jt,[u(d,{icon:"pi pi-chevron-left",onClick:t[2]||(t[2]=e=>f.value--),disabled:f.value===0,class:"p-button-text p-button-xs"},null,8,["disabled"]),o("span",Bt,"Page "+b(f.value+1)+" / "+b(p.value.length),1),u(d,{icon:"pi pi-chevron-right",onClick:t[3]||(t[3]=e=>f.value++),disabled:f.value===p.value.length-1,class:"p-button-text p-button-xs"},null,8,["disabled"])]),o("div",{class:i(["h-4 w-px",r.value==="dark"?"bg-white/10":"bg-slate-300"])},null,2),o("div",Ot,[Ft,u(C,{modelValue:N.value,"onUpdate:modelValue":t[4]||(t[4]=e=>N.value=e),min:.2,max:2,step:.01,class:"w-24"},null,8,["modelValue"]),o("span",{class:i(["text-[10px] font-mono w-10 text-right",r.value==="dark"?"text-primary-400":"text-primary-600"])},b(Math.round(N.value*100))+"%",3)])],2),y(u(d,{onClick:t[5]||(t[5]=e=>r.value=r.value==="dark"?"light":"dark"),icon:r.value==="dark"?"pi pi-sun":"pi pi-moon",class:i(["p-button-text p-button-rounded",r.value==="dark"?"text-slate-400":"text-slate-600"])},null,8,["icon","class"]),[[S,r.value==="dark"?"Thème Clair":"Thème Sombre",void 0,{bottom:!0}]]),u(d,{icon:"pi pi-cloud-download",label:"EXPORT PDF HD",onClick:Je,loading:oe.value,class:"p-button-primary shadow-xl shadow-primary-500/20 font-black p-button-sm italic"},null,8,["loading"])])],2),o("div",qt,[o("aside",{class:i(["w-20 flex flex-col items-center py-8 gap-6 shrink-0",r.value==="dark"?"border-r border-white/5 bg-black/20":"border-r border-slate-200 bg-slate-100"])},[(s(),n(D,null,R(["text","chart","table","kpi","image","shape"],e=>o("button",{key:e,onClick:h=>$e(e),class:i(["group relative w-12 h-12 rounded-2xl flex items-center justify-center hover:bg-primary-600 transition-all",r.value==="dark"?"bg-white/5 border border-white/5":"bg-white border border-slate-200 shadow-sm"])},[o("i",{class:i([{"pi pi-align-left":e==="text","pi pi-chart-bar":e==="chart","pi pi-table":e==="table","pi pi-bolt":e==="kpi","pi pi-image":e==="image","pi pi-minus":e==="shape"},"text-xl group-hover:text-white",r.value==="dark"?"text-slate-400":"text-slate-500"])},null,2),o("span",Yt,b(e),1)],10,Jt)),64))],2),o("main",{class:i(["flex-grow overflow-auto p-20 flex justify-center custom-scrollbar relative",r.value==="dark"?"bg-[#0a0a0c]":"bg-slate-200"]),onClick:t[7]||(t[7]=e=>L.value=null)},[o("div",{id:"studio-canvas",style:$(Ye.value),class:i(["relative transition-all duration-300 origin-top",r.value==="dark"?"shadow-[0_40px_120px_rgba(0,0,0,0.7)]":"shadow-2xl"])},[p.value[f.value].layoutMode==="absolute"?(s(!0),n(D,{key:0},R(p.value[f.value].widgets,(e,h)=>(s(),n("div",{key:e.id,style:$(Xe(e)),class:i(["group/widget",L.value===h?"ring-2 ring-primary-500":"",e.isLocked?"cursor-default":"cursor-move"]),onClick:W(c=>L.value=h,["stop"]),onMousedown:W(c=>!e.isLocked&&Ee(c,e,h),["stop"])},[o("div",{class:i(["absolute -top-11 left-0 flex gap-1 opacity-0 group-hover/widget:opacity-100 transition-all no-drag z-[60] backdrop-blur-sm rounded-lg shadow-2xl",r.value==="dark"?"bg-slate-900/80 border border-white/10":"bg-white/80 border border-slate-200"])},[y((s(),n("div",Gt,Ht)),[[S,"Déplacer",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>e.isLocked=!e.isLocked,["stop"]),class:"p-2 hover:text-orange-400"},[o("i",{class:i([e.isLocked?"pi pi-lock text-orange-400":"pi pi-lock-open","text-[10px]"])},null,2)],8,Qt)),[[S,"Verrouiller",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>ce(h),["stop"]),class:"p-2 hover:text-green-400"},to,8,Zt)),[[S,"Dupliquer",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>pe(h),["stop"]),class:"p-2 hover:text-red-400"},ao,8,oo)),[[S,"Supprimer",void 0,{bottom:!0}]])],2),e.type==="text"?(s(),n("div",so,[o("div",{contenteditable:"true",onBlur:c=>{e.content=c.target.innerText,w()},class:"w-full h-full outline-none leading-snug",style:$({fontFamily:e.config.font,fontSize:e.config.size+"px",color:e.config.color,textAlign:e.config.align,fontWeight:e.config.weight,fontStyle:e.config.italic?"italic":"normal",textDecoration:e.config.underline?"underline":"none",textTransform:e.config.uppercase?"uppercase":"none"})},b(e.content),45,no)])):m("",!0),e.type==="table"?(s(),n("div",io,[o("table",ro,[o("thead",{style:$({background:e.config.headerBg,color:e.config.headerColor})},[o("tr",null,[(s(!0),n(D,null,R(e.data.columns,c=>(s(),n("th",{key:c,style:$({padding:e.config.cellPadding+"px"}),class:"text-left uppercase text-[9px] font-black"},b(c),5))),128))])],4),o("tbody",{style:$({fontSize:e.config.fontSize+"px"})},[(s(!0),n(D,null,R(e.data.rows,(c,T)=>(s(),n("tr",{key:T,class:i(e.config.striped&&T%2===0?"bg-slate-50":"bg-white")},[(s(!0),n(D,null,R(e.data.columns,G=>(s(),n("td",{key:G,style:$({padding:e.config.cellPadding+"px"}),class:"border-b border-slate-100 text-slate-800"},b(c[G]),5))),128))],2))),128))],4)])])):m("",!0),e.type==="chart"?(s(),n("div",uo,[(s(),K(xe(he(e.chartType)),{data:e.data,options:{responsive:!0,maintainAspectRatio:!1}},null,8,["data"]))])):m("",!0),e.type==="kpi"?(s(),n("div",co,[o("span",po,b(e.config.label),1),o("div",go,[o("span",{class:"text-3xl font-black text-slate-900 tracking-tighter",style:$({color:e.config.color})},b(e.config.prefix)+b(e.config.value),5),o("span",vo,b(e.config.trend),1)])])):m("",!0),e.type==="image"?(s(),n("div",mo,[e.imageUrl?(s(),n("img",{key:0,src:e.imageUrl,class:"w-full h-full object-cover"},null,8,fo)):(s(),n("div",ho,ko)),o("input",{type:"file",accept:"image/*",onChange:c=>me(c,e),class:"hidden",ref_for:!0,ref:c=>se.value[e.id]=c},null,40,xo)])):m("",!0),e.type==="shape"?(s(),n("div",_o,[(s(),n("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.w} ${e.h}`,preserveAspectRatio:"none"},[e.config.shapeType==="line"?(s(),n("line",{key:0,x1:"0",y1:e.config.strokeWidth/2,x2:e.w,y2:e.config.strokeWidth/2,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,wo)):m("",!0),e.config.shapeType==="rectangle"?(s(),n("rect",{key:1,x:"0",y:"0",width:"100%",height:"100%",fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,So)):m("",!0),e.config.shapeType==="ellipse"?(s(),n("ellipse",{key:2,cx:e.w/2,cy:e.h/2,rx:e.w/2-e.config.strokeWidth/2,ry:e.h/2-e.config.strokeWidth/2,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,Vo)):m("",!0),e.config.shapeType==="circle"?(s(),n("circle",{key:3,cx:e.w/2,cy:e.h/2,r:Math.min(e.w,e.h)/2-e.config.strokeWidth/2,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,$o)):m("",!0),e.config.shapeType==="triangle"?(s(),n("polygon",{key:4,points:`${e.w/2},${e.config.strokeWidth} ${e.config.strokeWidth},${e.h-e.config.strokeWidth} ${e.w-e.config.strokeWidth},${e.h-e.config.strokeWidth}`,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,Uo)):m("",!0),e.config.shapeType==="star"?(s(),n("polygon",{key:5,points:"100,10 40,198 190,78 10,78 160,198",transform:`scale(${e.w/200}, ${e.h/208})`,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth*(200/e.w),"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,To)):m("",!0)],8,Co))])):m("",!0),o("div",{class:"absolute bottom-0 right-0 w-5 h-5 cursor-nwse-resize flex items-end justify-end p-1 no-drag",onMousedown:W(c=>Pe(c,e),["stop"])},Ro,40,Lo)],46,Xt))),128)):p.value[f.value].layoutMode==="grid"?(s(),K(ot(Et),{key:1,modelValue:p.value[f.value].widgets,"onUpdate:modelValue":t[6]||(t[6]=e=>p.value[f.value].widgets=e),"item-key":"id",class:"grid grid-cols-12 auto-rows-min h-full gap-4 p-4",handle:".grid-drag-handle"},{item:A(({element:e,index:h})=>[o("div",{style:$(Ge(e)),class:i(["group/widget relative flex flex-col",L.value===h?"ring-2 ring-primary-500":""]),onClick:W(c=>L.value=h,["stop"])},[o("div",Eo,[y((s(),n("button",{class:i(["p-2 hover:text-primary-400 cursor-move grid-drag-handle",r.value==="dark"?"":"text-slate-700"])},Io,2)),[[S,"Déplacer",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>e.isLocked=!e.isLocked,["stop"]),class:"p-2 hover:text-orange-400"},[o("i",{class:i([e.isLocked?"pi pi-lock text-orange-400":"pi pi-lock-open","text-[10px]"])},null,2)],8,Mo)),[[S,"Verrouiller",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>ce(h),["stop"]),class:"p-2 hover:text-green-400"},No,8,Ao)),[[S,"Dupliquer",void 0,{bottom:!0}]]),y((s(),n("button",{onClick:W(c=>pe(h),["stop"]),class:"p-2 hover:text-red-400"},Oo,8,jo)),[[S,"Supprimer",void 0,{bottom:!0}]])]),e.type==="text"?(s(),n("div",Fo,[o("div",{contenteditable:"true",onBlur:c=>{e.content=c.target.innerText,w()},class:"w-full h-full outline-none leading-snug",style:$({fontFamily:e.config.font,fontSize:e.config.size+"px",color:e.config.color,textAlign:e.config.align,fontWeight:e.config.weight,fontStyle:e.config.italic?"italic":"normal",textDecoration:e.config.underline?"underline":"none",textTransform:e.config.uppercase?"uppercase":"none"})},b(e.content),45,qo)])):m("",!0),e.type==="table"?(s(),n("div",Jo,[o("table",Yo,[o("thead",{style:$({background:e.config.headerBg,color:e.config.headerColor})},[o("tr",null,[(s(!0),n(D,null,R(e.data.columns,c=>(s(),n("th",{key:c,style:$({padding:e.config.cellPadding+"px"}),class:"text-left uppercase text-[9px] font-black"},b(c),5))),128))])],4),o("tbody",{style:$({fontSize:e.config.fontSize+"px"})},[(s(!0),n(D,null,R(e.data.rows,(c,T)=>(s(),n("tr",{key:T,class:i(e.config.striped&&T%2===0?"bg-slate-50":"bg-white")},[(s(!0),n(D,null,R(e.data.columns,G=>(s(),n("td",{key:G,style:$({padding:e.config.cellPadding+"px"}),class:"border-b border-slate-100 text-slate-800"},b(c[G]),5))),128))],2))),128))],4)])])):m("",!0),e.type==="chart"?(s(),n("div",Xo,[(s(),K(xe(he(e.chartType)),{data:e.data,options:{responsive:!0,maintainAspectRatio:!1}},null,8,["data"]))])):m("",!0),e.type==="kpi"?(s(),n("div",Go,[o("span",Ko,b(e.config.label),1),o("div",Ho,[o("span",{class:"text-3xl font-black text-slate-900 tracking-tighter",style:$({color:e.config.color})},b(e.config.prefix)+b(e.config.value),5),o("span",Qo,b(e.config.trend),1)])])):m("",!0),e.type==="image"?(s(),n("div",Zo,[e.imageUrl?(s(),n("img",{key:0,src:e.imageUrl,class:"w-full h-full object-cover"},null,8,el)):(s(),n("div",tl,al)),o("input",{type:"file",accept:"image/*",onChange:c=>me(c,e),class:"hidden",ref:c=>se.value[e.id]=c},null,40,sl)])):m("",!0),e.type==="shape"?(s(),n("div",nl,[(s(),n("svg",{width:"100%",height:"100%",viewBox:`0 0 ${e.w} ${e.h}`,preserveAspectRatio:"none"},[e.config.shapeType==="line"?(s(),n("line",{key:0,x1:"0",y1:e.config.strokeWidth/2,x2:e.w,y2:e.config.strokeWidth/2,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth},null,8,rl)):m("",!0),e.config.shapeType==="rectangle"?(s(),n("rect",{key:1,x:"0",y:"0",width:"100%",height:"100%",fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth,"stroke-dasharray":e.config.strokeStyle==="dashed"?"10,5":e.config.strokeStyle==="dotted"?"2,5":"none"},null,8,dl)):m("",!0),e.config.shapeType==="ellipse"?(s(),n("ellipse",{key:2,cx:e.w/2,cy:e.h/2,rx:e.w/2-e.config.strokeWidth/2,ry:e.h/2-e.config.strokeWidth/2,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth},null,8,ul)):m("",!0),e.config.shapeType==="circle"?(s(),n("circle",{key:3,cx:e.w/2,cy:e.h/2,r:Math.min(e.w,e.h)/2-e.config.strokeWidth/2,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth},null,8,cl)):m("",!0),e.config.shapeType==="triangle"?(s(),n("polygon",{key:4,points:`${e.w/2},${e.config.strokeWidth} ${e.config.strokeWidth},${e.h-e.config.strokeWidth} ${e.w-e.config.strokeWidth},${e.h-e.config.strokeWidth}`,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth},null,8,pl)):m("",!0),e.config.shapeType==="star"?(s(),n("polygon",{key:5,points:"100,10 40,198 190,78 10,78 160,198",transform:`scale(${e.w/200}, ${e.h/208})`,fill:e.style.backgroundColor,stroke:e.config.strokeColor,"stroke-width":e.config.strokeWidth*(200/e.w)},null,8,gl)):m("",!0)],8,il))])):m("",!0)],14,Wo)]),_:1},8,["modelValue"])):m("",!0)],6)],2),o("aside",{class:i(["w-[380px] flex flex-col shrink-0 overflow-y-auto custom-scrollbar",r.value==="dark"?"border-l border-white/5 bg-black/40":"border-l border-slate-200 bg-slate-50"])},[a.value?(s(),n("div",vl,[o("header",{class:i(["flex justify-between items-center pb-6",r.value==="dark"?"border-b border-white/10":"border-b border-slate-200"])},[o("h3",{class:i(["text-[10px] font-black uppercase tracking-[0.3em] italic",r.value==="dark"?"text-primary-400":"text-primary-600"])},"Inspecteur Omni",2),o("div",ml,[o("button",{onClick:t[8]||(t[8]=e=>ve("up")),class:"p-2 bg-white/5 rounded-lg hover:bg-white/10"},hl),o("button",{onClick:t[9]||(t[9]=e=>ve("down")),class:"p-2 bg-white/5 rounded-lg hover:bg-white/10"},yl)])],2),o("section",kl,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic",r.value==="dark"?"text-slate-500":"text-slate-400"])},"Apparence",2),o("div",{class:i(["p-4 rounded-xl space-y-4",r.value==="dark"?"bg-white/5":"bg-white border border-slate-200"])},[o("div",xl,[_l,o("div",{class:i(["flex items-center gap-2 p-1 rounded-lg",r.value==="dark"?"bg-black/20":"bg-slate-100"])},[y(o("input",{type:"color","onUpdate:modelValue":t[10]||(t[10]=e=>a.value.style.backgroundColor=e),class:"w-8 h-6 bg-transparent cursor-pointer border-none"},null,512),[[z,a.value.style.backgroundColor]]),u(_,{value:a.value.style.backgroundColor,"onUpdate:modelValue":t[11]||(t[11]=e=>a.value.style.backgroundColor=e),class:i(["p-inputtext-sm flex-grow font-mono uppercase !bg-transparent border-none shadow-none p-1",r.value==="dark"?"":"text-slate-700"])},null,8,["value","class"])],2)]),o("div",Cl,[wl,o("div",Sl,[u(M,{modelValue:a.value.style.borderWidth,"onUpdate:modelValue":t[12]||(t[12]=e=>a.value.style.borderWidth=e),min:0,max:20,class:"p-inputtext-sm",disabled:a.value.style.borderStyle==="none"},null,8,["modelValue","disabled"]),u(g,{modelValue:a.value.style.borderStyle,"onUpdate:modelValue":t[13]||(t[13]=e=>a.value.style.borderStyle=e),options:ue,optionLabel:"label",optionValue:"value",class:i(["p-inputtext-sm col-span-2",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"])]),o("div",{class:i(["flex items-center gap-2 p-1 rounded-lg mt-2",r.value==="dark"?"bg-black/20":"bg-slate-100"])},[y(o("input",{type:"color","onUpdate:modelValue":t[14]||(t[14]=e=>a.value.style.borderColor=e),class:"w-8 h-6 bg-transparent cursor-pointer border-none"},null,512),[[z,a.value.style.borderColor]]),u(_,{value:a.value.style.borderColor,"onUpdate:modelValue":t[15]||(t[15]=e=>a.value.style.borderColor=e),class:"p-inputtext-sm flex-grow font-mono uppercase !bg-transparent border-none shadow-none p-1"},null,8,["value"])],2)]),o("div",Vl,[o("label",$l,"Rayon ("+b(a.value.style.borderRadius)+"px)",1),u(C,{modelValue:a.value.style.borderRadius,"onUpdate:modelValue":t[16]||(t[16]=e=>a.value.style.borderRadius=e),min:0,max:50},null,8,["modelValue"])])],2)]),p.value[f.value].layoutMode==="grid"?(s(),n("section",Ul,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic",r.value==="dark"?"text-slate-500":"text-slate-400"])},"Disposition Grille",2),o("div",{class:i(["p-4 rounded-xl space-y-4",r.value==="dark"?"bg-white/5":"bg-white border border-slate-200"])},[o("div",Tl,[o("label",Ll,"Colonnes ("+b(a.value.colSpan)+"/12)",1),u(C,{modelValue:a.value.colSpan,"onUpdate:modelValue":t[17]||(t[17]=e=>a.value.colSpan=e),min:1,max:12},null,8,["modelValue"])]),o("div",Dl,[o("label",Rl,"Lignes ("+b(a.value.rowSpan)+")",1),u(C,{modelValue:a.value.rowSpan,"onUpdate:modelValue":t[18]||(t[18]=e=>a.value.rowSpan=e),min:1,max:12},null,8,["modelValue"])])],2)])):m("",!0),a.value.type==="table"?(s(),n("section",Wl,[u(d,{label:"MODIFIER STRUCTURE / CSV",icon:"pi pi-table",onClick:Ue,class:"w-full p-button-outlined p-button-sm"}),o("div",El,[o("div",Pl,[Il,y(o("input",{type:"color","onUpdate:modelValue":t[19]||(t[19]=e=>a.value.config.headerBg=e),class:"w-full h-8 bg-transparent cursor-pointer"},null,512),[[z,a.value.config.headerBg]])]),o("div",Ml,[Al,y(o("input",{type:"color","onUpdate:modelValue":t[20]||(t[20]=e=>a.value.config.headerColor=e),class:"w-full h-8 bg-transparent cursor-pointer"},null,512),[[z,a.value.config.headerColor]])])])])):m("",!0),a.value.type==="text"?(s(),n("section",zl,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic",r.value==="dark"?"text-slate-500":"text-slate-400"])},"Typographie",2),o("div",{class:i(["p-4 rounded-xl space-y-4",r.value==="dark"?"bg-white/5":"bg-white border border-slate-200"])},[u(g,{modelValue:a.value.config.font,"onUpdate:modelValue":t[21]||(t[21]=e=>a.value.config.font=e),options:Se,class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"]),o("div",Nl,[u(C,{modelValue:a.value.config.size,"onUpdate:modelValue":t[22]||(t[22]=e=>a.value.config.size=e),min:8,max:120,class:"flex-grow"},null,8,["modelValue"]),o("span",{class:i(["text-[10px] font-mono",r.value==="dark"?"text-primary-400":"text-primary-600"])},b(a.value.config.size)+"px",3)]),o("div",jl,[o("button",{onClick:t[23]||(t[23]=e=>a.value.config.weight=a.value.config.weight==="900"?"500":"900"),class:i([[{"bg-primary-600 text-white":a.value.config.weight==="900"},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},Ol,2),o("button",{onClick:t[24]||(t[24]=e=>a.value.config.italic=!a.value.config.italic),class:i([[{"bg-primary-600 text-white":a.value.config.italic},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},ql,2),o("button",{onClick:t[25]||(t[25]=e=>a.value.config.underline=!a.value.config.underline),class:i([[{"bg-primary-600 text-white":a.value.config.underline},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},"U",2),o("button",{onClick:t[26]||(t[26]=e=>a.value.config.uppercase=!a.value.config.uppercase),class:i([[{"bg-primary-600 text-white":a.value.config.uppercase},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},"Aa",2)]),o("div",Jl,[o("button",{onClick:t[27]||(t[27]=e=>a.value.config.align="left"),class:i([[{"bg-primary-600 text-white":a.value.config.align==="left"},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},Xl,2),o("button",{onClick:t[28]||(t[28]=e=>a.value.config.align="center"),class:i([[{"bg-primary-600 text-white":a.value.config.align==="center"},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},Kl,2),o("button",{onClick:t[29]||(t[29]=e=>a.value.config.align="right"),class:i([[{"bg-primary-600 text-white":a.value.config.align==="right"},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},Ql,2),o("button",{onClick:t[30]||(t[30]=e=>a.value.config.align="justify"),class:i([[{"bg-primary-600 text-white":a.value.config.align==="justify"},r.value==="dark"?"bg-white/5 hover:bg-white/10":"bg-slate-200 hover:bg-slate-300"],"p-2 rounded-lg transition-colors"])},ea,2)]),o("div",ta,[oa,o("div",{class:i(["flex-grow flex items-center gap-2 p-1 rounded-lg",r.value==="dark"?"bg-black/20":"bg-slate-100"])},[y(o("input",{type:"color","onUpdate:modelValue":t[31]||(t[31]=e=>a.value.config.color=e),class:"w-8 h-6 bg-transparent cursor-pointer border-none"},null,512),[[z,a.value.config.color]]),u(_,{value:a.value.config.color,"onUpdate:modelValue":t[32]||(t[32]=e=>a.value.config.color=e),class:"p-inputtext-sm flex-grow font-mono uppercase !bg-transparent border-none shadow-none p-1"},null,8,["value"])],2)])],2)])):m("",!0),a.value.type==="shape"?(s(),n("section",la,[aa,o("div",sa,[o("div",na,[ia,u(g,{modelValue:a.value.config.shapeType,"onUpdate:modelValue":t[33]||(t[33]=e=>a.value.config.shapeType=e),options:["line","rectangle","ellipse","circle","triangle","star"],class:"w-full text-xs"},null,8,["modelValue"])]),o("div",ra,[da,o("div",ua,[y(o("input",{type:"color","onUpdate:modelValue":t[34]||(t[34]=e=>a.value.config.strokeColor=e),class:"w-8 h-6 bg-transparent cursor-pointer border-none"},null,512),[[z,a.value.config.strokeColor]]),u(_,{value:a.value.config.strokeColor,"onUpdate:modelValue":t[35]||(t[35]=e=>a.value.config.strokeColor=e),class:"p-inputtext-sm flex-grow font-mono uppercase !bg-transparent border-none shadow-none p-1"},null,8,["value"])])]),o("div",ca,[o("label",pa,"Épaisseur du Trait ("+b(a.value.config.strokeWidth)+"px)",1),u(C,{modelValue:a.value.config.strokeWidth,"onUpdate:modelValue":t[36]||(t[36]=e=>a.value.config.strokeWidth=e),min:1,max:50},null,8,["modelValue"])]),o("div",ga,[va,u(g,{modelValue:a.value.config.strokeStyle,"onUpdate:modelValue":t[37]||(t[37]=e=>a.value.config.strokeStyle=e),options:ue,optionLabel:"label",optionValue:"value",class:"w-full text-xs"},null,8,["modelValue"])])])])):m("",!0),a.value.type==="kpi"?(s(),n("section",ma,[fa,o("div",ha,[o("div",ba,[ya,u(_,{modelValue:a.value.config.prefix,"onUpdate:modelValue":t[38]||(t[38]=e=>a.value.config.prefix=e),class:"w-full text-xs"},null,8,["modelValue"])]),o("div",ka,[xa,o("div",_a,[y(o("input",{type:"color","onUpdate:modelValue":t[39]||(t[39]=e=>a.value.config.color=e),class:"w-8 h-6 bg-transparent cursor-pointer border-none"},null,512),[[z,a.value.config.color]]),u(_,{value:a.value.config.color,"onUpdate:modelValue":t[40]||(t[40]=e=>a.value.config.color=e),class:"p-inputtext-sm flex-grow font-mono uppercase !bg-transparent border-none shadow-none p-1",style:$({color:a.value.config.color})},null,8,["value","style"])])])])])):m("",!0),a.value.type==="image"?(s(),n("section",Ca,[u(d,{label:"CHANGER L'IMAGE",icon:"pi pi-upload",onClick:t[41]||(t[41]=e=>qe(a.value.id)),class:"w-full p-button-outlined p-button-sm"})])):m("",!0),["chart","kpi"].includes(a.value.type)?(s(),n("section",wa,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic",r.value==="dark"?"text-primary-400":"text-primary-600"])},"Source de Données",2),o("div",Sa,[a.value.type==="kpi"?(s(),n("div",Va,[u(g,{modelValue:a.value.dataSource.model,"onUpdate:modelValue":t[42]||(t[42]=e=>a.value.dataSource.model=e),options:j.value,optionLabel:"name",optionValue:"name",placeholder:"Modèle Laravel",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","options","class"]),a.value.dataSource.model?(s(),K(g,{key:0,modelValue:a.value.dataSource.column,"onUpdate:modelValue":t[43]||(t[43]=e=>a.value.dataSource.column=e),options:((be=j.value.find(e=>e.name===a.value.dataSource.model))==null?void 0:be.columns)||[],placeholder:"Champ",class:i(["w-full text-xs font-mono",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","options","class"])):m("",!0),u(g,{modelValue:a.value.dataSource.method,"onUpdate:modelValue":t[44]||(t[44]=e=>a.value.dataSource.method=e),options:["COUNT","SUM","AVG","MAX","MIN"],placeholder:"Méthode SQL",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"]),u(g,{modelValue:a.value.config.timeScale,"onUpdate:modelValue":t[45]||(t[45]=e=>a.value.config.timeScale=e),options:["minutes","hours","days","weeks","months"],placeholder:"Intervalle de données",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"])])):m("",!0),u(d,{label:"SYNC LARAVEL",icon:"pi pi-refresh",onClick:t[46]||(t[46]=e=>Ie(a.value)),loading:a.value.isSyncing,class:"w-full p-button-primary p-button-sm font-black"},null,8,["loading"])]),a.value.type==="chart"?(s(),n("div",$a,[(s(),n(D,null,R(Ve,e=>o("button",{key:e.value,onClick:h=>a.value.chartType=e.value,class:i([[a.value.chartType===e.value?"bg-primary-600 border-primary-500 text-white":r.value==="dark"?"bg-white/5 border-white/5":"bg-white border-slate-200"],"flex flex-col items-center p-3 rounded-xl border transition-all"])},[o("i",{class:i([e.icon,"text-lg"])},null,2),o("span",Ta,b(e.label),1)],10,Ua)),64))])):m("",!0),a.value.type==="chart"?(s(),n("div",La,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic mt-6 mb-2",r.value==="dark"?"text-slate-500":"text-slate-400"])},"Échelle de Temps (Axe X)",2),u(g,{modelValue:a.value.config.timeScale,"onUpdate:modelValue":t[47]||(t[47]=e=>a.value.config.timeScale=e),options:["minutes","hours","days","weeks","months"],placeholder:"Axe X",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"])])):m("",!0)])):m("",!0),a.value.type==="chart"?(s(),n("section",Da,[o("h4",{class:i(["text-[9px] font-black uppercase tracking-widest italic",r.value==="dark"?"text-primary-400":"text-primary-600"])},"Séries de Données",2),(s(!0),n(D,null,R(a.value.dataSources,(e,h)=>{var c;return s(),n("div",{key:h,class:i(["p-4 rounded-xl space-y-3 border-l-4",r.value==="dark"?"bg-white/5":"bg-white border border-slate-200"]),style:$({borderColor:e.color})},[u(g,{modelValue:e.model,"onUpdate:modelValue":T=>e.model=T,options:j.value,optionLabel:"name",optionValue:"name",placeholder:"Modèle Laravel",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","onUpdate:modelValue","options","class"]),e.model?(s(),K(g,{key:0,modelValue:e.column,"onUpdate:modelValue":T=>e.column=T,options:((c=j.value.find(T=>T.name===e.model))==null?void 0:c.columns)||[],placeholder:"Champ",class:i(["w-full text-xs font-mono mt-2",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","onUpdate:modelValue","options","class"])):m("",!0),y(o("input",{type:"color","onUpdate:modelValue":T=>e.color=T,class:"w-full h-8 bg-transparent cursor-pointer"},null,8,Ra),[[z,e.color]]),u(d,{icon:"pi pi-times",onClick:T=>a.value.dataSources.splice(h,1),class:"p-button-danger p-button-text p-button-sm"},null,8,["onClick"])],6)}),128)),u(d,{label:"Ajouter une série",icon:"pi pi-plus",onClick:t[48]||(t[48]=e=>a.value.dataSources.push({model:null,column:null,formula:null,color:"#"+(Math.random()*16777215<<0).toString(16)})),class:"p-button-outlined p-button-sm w-full"})])):m("",!0)])):(s(),n("div",Wa,[u(O,null,{default:A(()=>[u(E,{header:"Document"},{default:A(()=>[o("div",Ea,[o("h3",{class:i(["text-[10px] font-black uppercase tracking-[0.4em] italic",r.value==="dark"?"text-primary-400":"text-primary-600"])},"Format & Fond",2),o("div",{class:i(["p-6 rounded-2xl space-y-6",r.value==="dark"?"bg-white/5":"bg-white border border-slate-200"])},[o("div",Pa,[Ia,u(g,{modelValue:p.value[f.value].format,"onUpdate:modelValue":t[49]||(t[49]=e=>p.value[f.value].format=e),options:ae,optionLabel:"name",class:i(["w-full text-xs",r.value==="dark"?"":"light-dropdown"])},null,8,["modelValue","class"])]),o("div",Ma,[Aa,u(I,{modelValue:p.value[f.value].orientation,"onUpdate:modelValue":t[50]||(t[50]=e=>p.value[f.value].orientation=e),options:[{label:"Portrait",value:"portrait"},{label:"Paysage",value:"landscape"}],optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"])]),o("div",za,[Na,y(o("input",{type:"color","onUpdate:modelValue":t[51]||(t[51]=e=>p.value[f.value].background=e),class:"w-full h-10 bg-transparent cursor-pointer"},null,512),[[z,p.value[f.value].background]])]),o("div",ja,[Ba,u(I,{modelValue:p.value[f.value].layoutMode,"onUpdate:modelValue":t[52]||(t[52]=e=>p.value[f.value].layoutMode=e),options:[{label:"Libre",value:"absolute"},{label:"Grille",value:"grid"}],optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue"])])],2)])]),_:1}),u(E,{header:"Pages"},{default:A(()=>[o("div",Oa,[u(d,{label:"Ajouter une page",icon:"pi pi-plus",onClick:Me,class:"w-full p-button-outlined p-button-sm"}),o("div",Fa,[(s(!0),n(D,null,R(p.value,(e,h)=>(s(),n("div",{key:e.id,class:i(["flex items-center gap-3 p-2 rounded-lg border-2",f.value===h?"bg-primary-500/20 border-primary-500":r.value==="dark"?"bg-white/5 border-transparent hover:border-white/20":"bg-white border-transparent hover:border-slate-300"]),draggable:"true",onDragstart:c=>le.value=h,onDragover:t[54]||(t[54]=W(()=>{},["prevent"])),onDrop:c=>je(c,h),onClick:c=>f.value=h},[Ja,o("div",Ya,[u(_,{modelValue:e.name,"onUpdate:modelValue":c=>e.name=c,onClick:t[53]||(t[53]=W(()=>{},["stop"])),onBlur:c=>Ne(e),class:i(["p-inputtext-sm w-full mt-1",r.value==="dark"?"bg-black/20 border-white/10":"bg-white border-slate-300"])},null,8,["modelValue","onUpdate:modelValue","onBlur","class"])]),o("div",Xa,[y(u(d,{icon:"pi pi-copy",onClick:W(c=>ze(h),["stop"]),class:"p-button-secondary p-button-text p-button-sm"},null,8,["onClick"]),[[S,"Dupliquer",void 0,{left:!0}]]),y(u(d,{icon:"pi pi-trash",onClick:W(c=>Ae(h),["stop"]),class:"p-button-danger p-button-text p-button-sm"},null,8,["onClick"]),[[S,"Supprimer",void 0,{left:!0}]])])],42,qa))),128))])])]),_:1})]),_:1})]))],2)]),u(X,{visible:Y.value,"onUpdate:visible":t[57]||(t[57]=e=>Y.value=e),header:"Éditeur de Données Quantum",style:{width:"80vw"},modal:"",class:"p-fluid"},{footer:A(()=>[u(d,{label:"Annuler",icon:"pi pi-times",onClick:t[56]||(t[56]=e=>Y.value=!1),class:"p-button-text"}),u(d,{label:"Enregistrer les modifications",icon:"pi pi-check",onClick:Re,class:"p-button-primary"})]),default:A(()=>[o("div",Ga,[o("div",Ka,[o("div",Ha,[Qa,u(d,{icon:"pi pi-plus",onClick:Te,class:"p-button-rounded p-button-text p-button-sm"})]),(s(!0),n(D,null,R(x.tempColumns,(e,h)=>(s(),n("div",{key:h,class:"flex gap-2"},[u(_,{modelValue:x.tempColumns[h],"onUpdate:modelValue":c=>x.tempColumns[h]=c,class:"p-inputtext-sm"},null,8,["modelValue","onUpdate:modelValue"]),u(d,{icon:"pi pi-times",onClick:c=>Le(e),class:"p-button-danger p-button-text p-button-sm"},null,8,["onClick"])]))),128)),o("div",Za,[u(d,{label:"IMPORTER CSV",icon:"pi pi-upload",class:"p-button-help p-button-sm",onClick:t[55]||(t[55]=e=>l.$refs.csvInput.click())}),o("input",{type:"file",ref:"csvInput",class:"hidden",accept:".csv",onChange:We},null,544)])]),o("div",es,[o("div",ts,[os,u(d,{label:"Ajouter une ligne",icon:"pi pi-plus-circle",onClick:De,class:"p-button-sm p-button-outlined w-auto"})]),o("div",ls,[o("table",as,[o("thead",ss,[o("tr",null,[(s(!0),n(D,null,R(x.tempColumns,e=>(s(),n("th",{key:e,class:"p-3 text-left font-black uppercase opacity-40"},b(e),1))),128))])]),o("tbody",null,[(s(!0),n(D,null,R(x.tempRows,(e,h)=>(s(),n("tr",{key:h,class:"border-t border-white/5"},[(s(!0),n(D,null,R(x.tempColumns,c=>(s(),n("td",{key:c,class:"p-1"},[u(_,{modelValue:e[c],"onUpdate:modelValue":T=>e[c]=T,class:"p-inputtext-sm border-none bg-transparent"},null,8,["modelValue","onUpdate:modelValue"])]))),128)),o("td",ns,[u(d,{icon:"pi pi-trash",onClick:c=>x.tempRows.splice(h,1),class:"p-button-danger p-button-text p-button-sm"},null,8,["onClick"])])]))),128))])])])])])]),_:1},8,["visible"]),u(X,{visible:J.value,"onUpdate:visible":t[60]||(t[60]=e=>J.value=e),header:"Sauvegarder comme Modèle",style:{width:"30rem"},modal:""},{footer:A(()=>[u(d,{label:"Annuler",icon:"pi pi-times",onClick:t[59]||(t[59]=e=>J.value=!1),class:"p-button-text"}),u(d,{label:"Sauvegarder",icon:"pi pi-check",onClick:ge})]),default:A(()=>[o("div",is,[rs,u(_,{id:"templateName",modelValue:B.value,"onUpdate:modelValue":t[58]||(t[58]=e=>B.value=e),class:"w-full mt-2",onKeyup:at(ge,["enter"])},null,8,["modelValue"])])]),_:1},8,["visible"]),u(ne,{position:"bottom-right"}),u(ie)],2)}}},Ds=Pt(ds,[["__scopeId","data-v-c79654cf"]]);export{Ds as default};
