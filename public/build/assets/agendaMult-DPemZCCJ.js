import{a as ke,b as Me,r as m,T as xe,d as j,w as B,e as Ue,f as h,h as I,o as v,i as n,g as e,Z as qe,j as t,l as f,k as M,t as i,p as y,s as Ae}from"./app-tNqL7mf1.js";import{i as Pe,a as je,b as Ie,c as Ce,l as Ne,F as Oe}from"./fr-CVBdMKgx.js";import{_ as Fe}from"./AppLayout-C6jF_llb.js";import{s as C}from"./index-CASASU4u.js";import{s as le}from"./index-_H4U2U1q.js";import{s as g}from"./index-CAeMJtKO.js";import{s as z}from"./index-BVT6l1o2.js";import{s as te}from"./index-CiHAvnIS.js";import{s as se}from"./index-gMGiGxzt.js";import{s as Re}from"./index-CZHYrdIS.js";import{s as Le}from"./index-D9OeiyI9.js";import{s as Je}from"./index-XYa5dVaH.js";import{s as Be}from"./index-5ThWo-k1.js";import{s as re}from"./index-q1tfaD0y.js";import{s as V}from"./index-CbSmUBB4.js";import{s as ze}from"./index-CWrx6gPK.js";import{a as Ge,s as We}from"./index-CPJnGVc0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-CSp7bdD_.js";import"./index-cPRk1myS.js";import"./index-BbQv9taT.js";import"./index-BgQpF4oC.js";import"./index-CZa1m6mU.js";import"./index-DYwZWGlh.js";import"./index-DMRwBNCK.js";const Ke=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"ðŸ“… Agenda de Maintenance",-1),He={class:"grid"},Qe={class:"col-12"},Ye={class:"flex items-center gap-2"},Ze=t("i",{class:"pi pi-search"},null,-1),Xe={class:"bg-white p-6 rounded-lg shadow-xl w-full"},el={key:0,class:"p-fluid"},ll={class:"field mb-4"},tl={class:"mb-2"},sl=t("strong",null,"Type :",-1),rl={class:"mb-2"},al=t("strong",null,"Statut :",-1),nl={class:"mb-4"},ol=t("strong",null,"PrioritÃ© :",-1),il=t("hr",{class:"my-4"},null,-1),dl={key:0,class:"field mb-4 p-3 border-round bg-yellow-100 border-1 border-yellow-300"},ul=t("p",{class:"font-bold text-yellow-800"},"RÃ¨gle de charge quotidienne :",-1),cl={class:"text-yellow-800"},ml={key:1,class:"my-4"},_l={class:"field mb-2"},pl=t("strong",null,"DÃ©but de la pÃ©riode :",-1),vl={class:"field mb-4"},fl=t("strong",null,"Fin de la pÃ©riode :",-1),yl={class:"field mb-4"},hl=t("strong",null,"DurÃ©e Totale EstimÃ©e:",-1),bl={class:"p-fluid"},gl={class:"grid grid-cols-2 gap-2"},Vl={class:"field"},wl=t("label",{for:"title",class:"font-semibold"},"Titre",-1),Dl={class:"p-error"},Tl={class:"field"},El=t("label",{for:"related_equipments",class:"font-semibold"},"Ã‰quipements LiÃ©s",-1),Sl={class:"grid grid-cols-2 gap-2"},$l={class:"field"},kl=t("label",{for:"assignable_type",class:"font-semibold"},"Assigner Ã  (Type)",-1),Ml={class:"p-error"},xl={class:"field"},Ul=t("label",{for:"assignable_id",class:"font-semibold"},"Assigner Ã  (Nom)",-1),ql={class:"p-error"},Al={class:"field"},Pl=t("label",{for:"description",class:"font-semibold"},"Description",-1),jl={class:"p-error"},Il={class:"grid grid-cols-2 gap-2"},Cl={class:"field"},Nl=t("label",{for:"type",class:"font-semibold"},"Type de Maintenance",-1),Ol={class:"p-error"},Fl={class:"field"},Rl=t("label",{for:"status",class:"font-semibold"},"Statut",-1),Ll={class:"p-error"},Jl={class:"grid grid-cols-2 gap-2"},Bl={class:"field"},zl=t("label",{for:"priority",class:"font-semibold"},"PrioritÃ©",-1),Gl={class:"p-error"},Wl={class:"field"},Kl=t("label",{for:"estimated_duration",class:"font-semibold"},"DurÃ©e EstimÃ©e (minutes)",-1),Hl={class:"p-error"},Ql={class:"grid grid-cols-2 gap-2"},Yl={class:"field"},Zl={for:"scheduled_start_date",class:"font-semibold"},Xl={class:"p-error"},et={class:"field"},lt={for:"scheduled_end_date",class:"font-semibold"},tt={class:"p-error"},st={class:"grid grid-cols-2 gap-2"},rt={class:"field"},at=t("label",{for:"cost",class:"font-semibold"},"CoÃ»t / Budget",-1),nt={class:"p-error"},ot={class:"field"},it=t("label",{for:"region_id",class:"font-semibold"},"RÃ©gion",-1),dt={class:"p-error"},ut={class:"field"},ct=t("label",{for:"recurrence_type",class:"font-semibold"},"Type de RÃ©currence",-1),mt={class:"p-error"},_t={key:0,class:"field"},pt=t("label",{for:"recurrence_interval",class:"font-semibold"},"Nombre de jours",-1),vt={class:"p-error"},ft={key:1,class:"field"},yt=t("label",{for:"recurrence_days",class:"font-semibold"},"Jours de la semaine",-1),ht={class:"p-error"},bt={key:2,class:"field"},gt=t("label",{for:"recurrence_day_of_month",class:"font-semibold"},"Jour du mois",-1),Vt={class:"p-error"},wt={key:3,class:"field"},Dt=t("label",{for:"recurrence_month_interval",class:"font-semibold"},"Nombre de mois",-1),Tt={class:"p-error"},Et={key:4,class:"field"},St={class:"field"},$t=t("label",{for:"scheduled_start_date_recurrence",class:"font-semibold"},"Date de dÃ©but de rÃ©currence",-1),kt={class:"p-error"},Mt={key:5,class:"field"},xt={for:"recurrence_interval",class:"font-semibold"},Ut={class:"p-error"},qt={key:6,class:"field"},At=t("label",{for:"reminder_days",class:"font-semibold"},"Jours de rappel avant exÃ©cution",-1),Pt={class:"p-error"},jt={key:7,class:"grid grid-cols-2 gap-4"},It={class:"field"},Ct=t("label",{for:"recurrence_month",class:"font-semibold"},"Mois de dÃ©but",-1),Nt={class:"p-error"},Ot={class:"field"},Ft=t("label",{for:"recurrence_day_of_month_complex",class:"font-semibold"},"Jour du mois",-1),Rt={class:"p-error"},Lt={key:8,class:"field"},Jt=t("label",{for:"custom_recurrence_config",class:"font-semibold"},"Configuration personnalisÃ©e de la rÃ©currence",-1),N="07:00:00",O="16:00:00",vs={__name:"agendaMult",props:{events:Array,maintenances:Object,filters:Object,users:Array,teams:Object,equipmentTree:Object,regions:Array},setup(ae){var Y,Z;const _=ae,b=ke();Me();const x=m(((Y=_.filters)==null?void 0:Y.status)||""),F=m(((Z=_.filters)==null?void 0:Z.search)||""),U=m(!1),R=m(!1),E=m(!1),q=m(!1),c=m(null),ne=m(["PlanifiÃ©e","En cours","En attente","TerminÃ©e","AnnulÃ©e","En retard"]),l=xe({id:null,title:"",description:"",assignable_type:null,assignable_id:null,type:"PrÃ©ventive",status:"PlanifiÃ©e",priority:"Moyenne",scheduled_start_date:null,scheduled_end_date:null,cost:null,recurrence_type:null,estimated_duration:null,related_equipments:{},region_id:null,recurrence_interval:null,recurrence_days:[],recurrence_day_of_month:null,recurrence_month_interval:null,recurrence_month:null,reminder_days:null,custom_recurrence_config:null}),oe=m(["PrÃ©ventive","Corrective"]),ie=m(["PlanifiÃ©e","En cours","En attente","TerminÃ©e","AnnulÃ©e","En retard"]),de=m(["Basse","Moyenne","Haute","Urgente"]),ue=m([{label:"Technicien",value:"App\\Models\\User"},{label:"Ã‰quipe",value:"App\\Models\\Team"}]),ce=m([{label:"Aucune",value:null},{label:"Quotidienne",value:"daily"},{label:"Hebdomadaire",value:"weekly"},{label:"Mensuelle",value:"monthly"},{label:"Trimestrielle",value:"quarterly"},{label:"Semestrielle",value:"biannual"},{label:"Annuelle",value:"annual"},{label:"PersonnalisÃ©e",value:"custom"}]),me=m([{label:"Lundi",value:"mon"},{label:"Mardi",value:"tue"},{label:"Mercredi",value:"wed"},{label:"Jeudi",value:"thu"},{label:"Vendredi",value:"fri"},{label:"Samedi",value:"sat"},{label:"Dimanche",value:"sun"}]),_e=m([{label:"Janvier",value:1},{label:"FÃ©vrier",value:2},{label:"Mars",value:3},{label:"Avril",value:4},{label:"Mai",value:5},{label:"Juin",value:6},{label:"Juillet",value:7},{label:"AoÃ»t",value:8},{label:"Septembre",value:9},{label:"Octobre",value:10},{label:"Novembre",value:11},{label:"DÃ©cembre",value:12}]),pe=j(()=>l.assignable_type==="App\\Models\\User"?_.users:l.assignable_type==="App\\Models\\Team"?_.teams.data||_.teams:[]),ve=j(()=>E.value?"Modifier la Maintenance":"CrÃ©er une nouvelle Maintenance"),fe=j(()=>{if(!_.equipmentTree||typeof _.equipmentTree!="object")return[];const a=s=>s?{key:String(s.id),label:s.designation||s.label,icon:"pi pi-fw pi-cog",children:s.children?Object.values(s.children).map(a).filter(r=>r):[]}:null;return Object.values(_.equipmentTree).map(a).filter(s=>s)}),ye=a=>{switch(a){case"activity":return"#3498db";case"maintenance":return"#e74c3c";case"task":return"#2ecc71";default:return"#95a5a6"}},S=(a,s,r="00:00:00")=>{if(!a)return null;const u=a.replace("T"," ").split(" ");if(s==="date")return u[0];if(s==="time"){const d=u.length>1?u[1].split(".")[0]:r,p=d.split(":");return p.length===3&&p[0].length===1?`0${p[0]}:${p[1]}:${p[2]}`:d}return null},he=(a,s)=>{const r=[];let o=new Date(a);const u=new Date(s);for(;o<=u;)r.push(o.toISOString().slice(0,10)),o.setDate(o.getDate()+1);return r},be=(a,s)=>{if(!a||!s)return!1;const r=S(a,"date"),o=S(s,"date");return r!==o},G=j(()=>{var r;const a=_.events.length>0?_.events:((r=_.maintenances)==null?void 0:r.data)||[],s=[];return a.filter(o=>x.value===""||o.status===x.value).forEach(o=>{const u=o.scheduled_start_date||o.start_date,d=o.scheduled_end_date||o.end_date;if(!u||!d){console.warn("Ã‰vÃ©nement ignorÃ© car date de dÃ©but ou de fin manquante:",o);return}const p=be(u,d),w={extendedProps:o,title:o.title||o.label,color:ye(o.type),allDay:!1};if(p){const D=S(u,"date"),$=S(d,"date"),k=S(u,"time",N),J=S(d,"time",O),X=he(D,$);X.forEach((T,ee)=>{let A,P,Se=`${o.id}-${T}`,$e=!1;ee===0?(A=`${T} ${k}`,P=`${T} ${O}`):ee===X.length-1?(A=`${T} ${N}`,P=`${T} ${J}`):(A=`${T} ${N}`,P=`${T} ${O}`),s.push({...w,id:Se,start:A,end:P,realId:o.id,allDay:$e})})}else{const D=!u.includes(" ")&&!u.includes("T");s.push({...w,id:o.id,start:u,end:d,allDay:D})}}),s}),W=a=>a?a.split("+")[0].split(".")[0].trim().replace("T"," "):null,K=a=>{const{event:s}=a;if(s.extendedProps.realId){a.revert(),b.add({severity:"warn",summary:"Attention",detail:"Veuillez modifier la date d'un Ã©vÃ©nement multidate via le formulaire (clic sur l'Ã©vÃ©nement).",life:5e3});return}const r=W(s.startStr),o=W(s.endStr),u=s.id,d=s.extendedProps.type;let p,w,D={},$,k;if(d==="maintenance")p="maintenances.update",w={maintenance:u},$="scheduled_start_date",k="scheduled_end_date";else if(d==="task")p="tasks.update",w={task:u},$="planned_start_date",k="planned_end_date";else if(d==="activity")p="activities.update",w={activity:u},$="actual_start_time",k="actual_end_time";else{a.revert(),b.add({severity:"error",summary:"Erreur",detail:"Type d'Ã©vÃ©nement inconnu pour la mise Ã  jour.",life:3e3});return}if(!route().has(p)){a.revert(),b.add({severity:"error",summary:"Erreur",detail:"Route de mise Ã  jour non trouvÃ©e.",life:3e3});return}D[$]=r,D[k]=o,b.add({severity:"info",summary:"Mise Ã  jour",detail:`DÃ©placement de l'Ã©vÃ©nement #${u} (${d})...`,life:3e3}),I.put(route(p,w),D,{preserveState:!0,onError:J=>{a.revert(),console.error(`Erreur lors de la mise Ã  jour de l'Ã©vÃ©nement (${d}):`,J),b.add({severity:"error",summary:"Erreur",detail:`Impossible de mettre Ã  jour l'Ã©vÃ©nement de type ${d}.`,life:5e3})},onSuccess:()=>{b.add({severity:"success",summary:"SuccÃ¨s",detail:`Ã‰vÃ©nement de type ${d} mis Ã  jour.`,life:3e3})}})},ge=a=>{var u;const s=a.event.extendedProps.realId||a.event.id,o=(_.events.length>0?_.events:((u=_.maintenances)==null?void 0:u.data)||[]).find(d=>d.id==s);o&&(c.value={title:o.title||o.label,...o,start:o.scheduled_start_date||o.start_date,end:o.scheduled_end_date||o.end_date,color:a.event.backgroundColor,daily_schedule:o.daily_schedule},q.value=!0)},L=m({plugins:[Pe,je,Ie,Ce],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,listYear"},events:G.value,locale:Ne,editable:!0,eventDurationEditable:!0,selectable:!0,eventDrop:K,eventResize:K,eventClick:ge,slotMinTime:N,slotMaxTime:O});B(G,a=>{L.value&&(L.value.events=a)},{deep:!0}),B(()=>l.assignable_type,a=>{l.assignable_id=null}),B(()=>l.recurrence_type,a=>{l.recurrence_interval=null,l.recurrence_days=[],l.recurrence_day_of_month=null,l.recurrence_month_interval=null,l.recurrence_month=null,l.reminder_days=null,l.custom_recurrence_config=null});const H=()=>{I.get(route("agenda.index"),{search:F.value,status:x.value},{preserveState:!0,replace:!0})},Ve=()=>{U.value=!1,R.value=!1},we=()=>{l.reset(),E.value=!1,U.value=!0},De=()=>{if(R.value=!0,!l.title||Object.keys(l.related_equipments).length===0||!l.type){b.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir les champs obligatoires (Titre, Ã‰quipement, Type).",life:3e3});return}const a=l.related_equipments?Object.keys(l.related_equipments).filter(d=>l.related_equipments[d]&&l.related_equipments[d].checked).map(d=>parseInt(d,10)):[],s={...l.data(),equipment_ids:a,scheduled_start_date:l.scheduled_start_date?new Date(l.scheduled_start_date).toISOString().slice(0,19).replace("T"," "):null,scheduled_end_date:l.scheduled_end_date?new Date(l.scheduled_end_date).toISOString().slice(0,19).replace("T"," "):null};l.assignable_type||(s.assignable_id=null);const r=E.value?"maintenances.update":"maintenances.store",o=E.value?"put":"post",u=E.value?{maintenance:l.id}:{};I[o](route(r,u),s,{onSuccess:()=>{U.value=!1,b.add({severity:"success",summary:"SuccÃ¨s",detail:`Maintenance ${E.value?"mise Ã  jour":"crÃ©Ã©e"} avec succÃ¨s.`,life:3e3}),l.reset(),I.reload({only:["events","maintenances"]})},onError:d=>{console.error("Erreur lors de la sauvegarde de la maintenance",d),b.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la sauvegarde.",life:3e3}),l.errors=d}})},Q=a=>a?(a instanceof Date?a:new Date(a)).toLocaleString("fr-FR",{dateStyle:"full",timeStyle:"short"}):"N/A",Te=a=>({PlanifiÃ©e:"info","En cours":"warning",TerminÃ©e:"success",AnnulÃ©e:"secondary","En retard":"danger","En attente":"contrast"})[a]||null,Ee=a=>({Basse:"info",Moyenne:"success",Haute:"warning",Urgente:"danger"})[a]||null;return(a,s)=>(v(),Ue(Fe,{title:"Gestion des Maintenances"},{header:h(()=>[Ke]),default:h(()=>[n(e(qe),{title:"Agenda de Maintenance"}),t("div",He,[t("div",Qe,[n(e(Je)),n(e(Be)),n(e(Le),{class:"mb-4"},{start:h(()=>[n(e(C),{label:"Nouvelle Maintenance",icon:"pi pi-plus",class:"mr-2",onClick:we})]),end:h(()=>[t("div",Ye,[n(e(Ge),null,{default:h(()=>[n(e(We),null,{default:h(()=>[Ze]),_:1}),n(e(te),{modelValue:F.value,"onUpdate:modelValue":s[0]||(s[0]=r=>F.value=r),placeholder:"Rechercher...",onInput:H},null,8,["modelValue"])]),_:1}),n(e(g),{modelValue:x.value,"onUpdate:modelValue":s[1]||(s[1]=r=>x.value=r),options:ne.value,placeholder:"Filtrer par statut",showClear:"",onChange:H,class:"w-full md:w-auto"},null,8,["modelValue","options"])])]),_:1}),t("div",Xe,[n(e(Oe),{options:L.value},null,8,["options"])])])]),n(e(le),{header:c.value?"DÃ©tails: "+c.value.title:"DÃ©tails de l'Ã©vÃ©nement",visible:q.value,"onUpdate:visible":s[3]||(s[3]=r=>q.value=r),modal:"",style:{width:"400px"}},{footer:h(()=>[n(e(C),{label:"Fermer",icon:"pi pi-times",onClick:s[2]||(s[2]=r=>q.value=!1),class:"p-button-text"})]),default:h(()=>{var r,o;return[c.value?(v(),f("div",el,[t("div",ll,[t("p",tl,[sl,M(" "+i(c.value.type||"N/A"),1)]),t("p",rl,[al,M(),n(e(se),{value:c.value.status,severity:Te(c.value.status)},null,8,["value","severity"])]),t("p",nl,[ol,M(),n(e(se),{value:c.value.priority,severity:Ee(c.value.priority)},null,8,["value","severity"])])]),il,c.value.daily_schedule?(v(),f("div",dl,[ul,t("p",cl," L'Ã©vÃ©nement est planifiÃ© de **"+i(c.value.daily_schedule)+"** pour **chaque jour** de la pÃ©riode ("+i(c.value.daily_schedule.includes(" - ")?"soit "+((parseInt((r=c.value.daily_schedule.split(" - ")[1])==null?void 0:r.split(":")[0])||0)-(parseInt((o=c.value.daily_schedule.split(" - ")[0])==null?void 0:o.split(":")[0])||0))+" heures de travail par jour.":"")+"). ",1)])):y("",!0),c.value.daily_schedule?(v(),f("hr",ml)):y("",!0),t("div",_l,[t("p",null,[pl,M(" "+i(Q(c.value.start)),1)])]),t("div",vl,[t("p",null,[fl,M(" "+i(Q(c.value.end)),1)])]),t("div",yl,[t("p",null,[hl,M(" "+i(c.value.estimated_duration?c.value.estimated_duration+" minutes":"N/A"),1)])])])):y("",!0)]}),_:1},8,["header","visible"]),n(e(le),{visible:U.value,"onUpdate:visible":s[28]||(s[28]=r=>U.value=r),modal:"",header:ve.value,style:{width:"65rem"}},{footer:h(()=>[n(e(C),{label:"Annuler",icon:"pi pi-times",onClick:Ve,class:"p-button-text"}),n(e(C),{label:"Sauvegarder",icon:"pi pi-check",onClick:De,loading:e(l).processing},null,8,["loading"])]),default:h(()=>[t("div",bl,[t("div",gl,[t("div",Vl,[wl,n(e(te),{id:"title",class:Ae(["w-full",{"p-invalid":R.value&&!e(l).title}]),modelValue:e(l).title,"onUpdate:modelValue":s[4]||(s[4]=r=>e(l).title=r),modelModifiers:{trim:!0}},null,8,["modelValue","class"]),t("small",Dl,i(e(l).errors.title),1)]),t("div",Tl,[El,n(e(Re),{modelValue:e(l).related_equipments,"onUpdate:modelValue":s[5]||(s[5]=r=>e(l).related_equipments=r),options:fe.value,placeholder:"SÃ©lectionner des Ã©quipements",filter:"",selectionMode:"checkbox",display:"chip",class:"w-full"},null,8,["modelValue","options"])])]),t("div",Sl,[t("div",$l,[kl,n(e(g),{id:"assignable_type",class:"w-full",modelValue:e(l).assignable_type,"onUpdate:modelValue":s[6]||(s[6]=r=>e(l).assignable_type=r),options:ue.value,optionLabel:"label",optionValue:"value",placeholder:"Type d'assignation"},null,8,["modelValue","options"]),t("small",Ml,i(e(l).errors.assignable_type),1)]),t("div",xl,[Ul,n(e(g),{id:"assignable_id",class:"w-full",modelValue:e(l).assignable_id,"onUpdate:modelValue":s[7]||(s[7]=r=>e(l).assignable_id=r),options:pe.value,optionLabel:"name",optionValue:"id",placeholder:"SÃ©lectionner une personne/Ã©quipe",disabled:!e(l).assignable_type,filter:""},null,8,["modelValue","options","disabled"]),t("small",ql,i(e(l).errors.assignable_id),1)])]),t("div",Al,[Pl,n(e(re),{id:"description",class:"w-full",modelValue:e(l).description,"onUpdate:modelValue":s[8]||(s[8]=r=>e(l).description=r),rows:"3"},null,8,["modelValue"]),t("small",jl,i(e(l).errors.description),1)]),t("div",Il,[t("div",Cl,[Nl,n(e(g),{id:"type",class:"w-full",modelValue:e(l).type,"onUpdate:modelValue":s[9]||(s[9]=r=>e(l).type=r),options:oe.value,placeholder:"SÃ©lectionner un type"},null,8,["modelValue","options"]),t("small",Ol,i(e(l).errors.type),1)]),t("div",Fl,[Rl,n(e(g),{id:"status",class:"w-full",modelValue:e(l).status,"onUpdate:modelValue":s[10]||(s[10]=r=>e(l).status=r),options:ie.value,placeholder:"SÃ©lectionner un statut"},null,8,["modelValue","options"]),t("small",Ll,i(e(l).errors.status),1)])]),t("div",Jl,[t("div",Bl,[zl,n(e(g),{id:"priority",class:"w-full",modelValue:e(l).priority,"onUpdate:modelValue":s[11]||(s[11]=r=>e(l).priority=r),options:de.value,placeholder:"SÃ©lectionner une prioritÃ©"},null,8,["modelValue","options"]),t("small",Gl,i(e(l).errors.priority),1)]),t("div",Wl,[Kl,n(e(V),{id:"estimated_duration",class:"w-full",modelValue:e(l).estimated_duration,"onUpdate:modelValue":s[12]||(s[12]=r=>e(l).estimated_duration=r),min:0},null,8,["modelValue"]),t("small",Hl,i(e(l).errors.estimated_duration),1)])]),t("div",Ql,[t("div",Yl,[t("label",Zl,i(e(l).status==="PlanifiÃ©e"?"Date de dÃ©but planifiÃ©e":"Date de dÃ©but"),1),n(e(z),{id:"scheduled_start_date",class:"w-full",modelValue:e(l).scheduled_start_date,"onUpdate:modelValue":s[13]||(s[13]=r=>e(l).scheduled_start_date=r),showTime:"",dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"]),t("small",Xl,i(e(l).errors.scheduled_start_date),1)]),t("div",et,[t("label",lt,i(e(l).status==="PlanifiÃ©e"?"Date de fin planifiÃ©e":"Date de fin"),1),n(e(z),{id:"scheduled_end_date",class:"w-full",modelValue:e(l).scheduled_end_date,"onUpdate:modelValue":s[14]||(s[14]=r=>e(l).scheduled_end_date=r),showTime:"",dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"]),t("small",tt,i(e(l).errors.scheduled_end_date),1)])]),t("div",st,[t("div",rt,[at,n(e(V),{id:"cost",class:"w-full",modelValue:e(l).cost,"onUpdate:modelValue":s[15]||(s[15]=r=>e(l).cost=r),mode:"currency",currency:"USD",locale:"fr-FR",min:0},null,8,["modelValue"]),t("small",nt,i(e(l).errors.cost),1)]),t("div",ot,[it,n(e(g),{id:"region_id",class:"w-full",modelValue:e(l).region_id,"onUpdate:modelValue":s[16]||(s[16]=r=>e(l).region_id=r),options:_.regions,optionLabel:"designation",optionValue:"id",placeholder:"SÃ©lectionner une rÃ©gion",filter:""},null,8,["modelValue","options"]),t("small",dt,i(e(l).errors.region_id),1)])]),t("div",ut,[ct,n(e(g),{id:"recurrence_type",class:"w-full",modelValue:e(l).recurrence_type,"onUpdate:modelValue":s[17]||(s[17]=r=>e(l).recurrence_type=r),options:ce.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner un type de rÃ©currence"},null,8,["modelValue","options"]),t("small",mt,i(e(l).errors.recurrence_type),1)]),e(l).recurrence_type==="daily"?(v(),f("div",_t,[pt,n(e(V),{id:"recurrence_interval",class:"w-full",modelValue:e(l).recurrence_interval,"onUpdate:modelValue":s[18]||(s[18]=r=>e(l).recurrence_interval=r),min:1,max:365},null,8,["modelValue"]),t("small",vt,i(e(l).errors.recurrence_interval),1)])):y("",!0),e(l).recurrence_type==="weekly"?(v(),f("div",ft,[yt,n(e(ze),{id:"recurrence_days",class:"w-full",modelValue:e(l).recurrence_days,"onUpdate:modelValue":s[19]||(s[19]=r=>e(l).recurrence_days=r),options:me.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner les jours",display:"chip"},null,8,["modelValue","options"]),t("small",ht,i(e(l).errors.recurrence_days),1)])):y("",!0),e(l).recurrence_type==="monthly"?(v(),f("div",bt,[gt,n(e(V),{id:"recurrence_day_of_month",class:"w-full",modelValue:e(l).recurrence_day_of_month,"onUpdate:modelValue":s[20]||(s[20]=r=>e(l).recurrence_day_of_month=r),min:1,max:31},null,8,["modelValue"]),t("small",Vt,i(e(l).errors.recurrence_day_of_month),1)])):y("",!0),e(l).recurrence_type==="monthly"?(v(),f("div",wt,[Dt,n(e(V),{id:"recurrence_month_interval",class:"w-full",modelValue:e(l).recurrence_month_interval,"onUpdate:modelValue":s[21]||(s[21]=r=>e(l).recurrence_month_interval=r),min:1,max:12},null,8,["modelValue"]),t("small",Tt,i(e(l).errors.recurrence_month_interval),1)])):y("",!0),["quarterly","biannual","annual"].includes(e(l).recurrence_type)?(v(),f("div",Et,[t("div",St,[$t,n(e(z),{id:"scheduled_start_date_recurrence",class:"w-full",modelValue:e(l).scheduled_start_date,"onUpdate:modelValue":s[22]||(s[22]=r=>e(l).scheduled_start_date=r),dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"]),t("small",kt,i(e(l).errors.scheduled_start_date),1)])])):y("",!0),["quarterly","biannual","annual"].includes(e(l).recurrence_type)?(v(),f("div",Mt,[t("label",xt,"Nombre de "+i(e(l).recurrence_type==="quarterly"?"trimestres":e(l).recurrence_type==="biannual"?"semestres":"annÃ©es"),1),n(e(V),{id:"recurrence_interval",class:"w-full",modelValue:e(l).recurrence_interval,"onUpdate:modelValue":s[23]||(s[23]=r=>e(l).recurrence_interval=r),min:1},null,8,["modelValue"]),t("small",Ut,i(e(l).errors.recurrence_interval),1)])):y("",!0),["quarterly","biannual","annual"].includes(e(l).recurrence_type)?(v(),f("div",qt,[At,n(e(V),{id:"reminder_days",class:"w-full",modelValue:e(l).reminder_days,"onUpdate:modelValue":s[24]||(s[24]=r=>e(l).reminder_days=r),min:0},null,8,["modelValue"]),t("small",Pt,i(e(l).errors.reminder_days),1)])):y("",!0),e(l).recurrence_type==="quarterly"||e(l).recurrence_type==="biannual"||e(l).recurrence_type==="annual"?(v(),f("div",jt,[t("div",It,[Ct,n(e(g),{id:"recurrence_month",class:"w-full",modelValue:e(l).recurrence_month,"onUpdate:modelValue":s[25]||(s[25]=r=>e(l).recurrence_month=r),options:_e.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner un mois"},null,8,["modelValue","options"]),t("small",Nt,i(e(l).errors.recurrence_month),1)]),t("div",Ot,[Ft,n(e(V),{id:"recurrence_day_of_month_complex",class:"w-full",modelValue:e(l).recurrence_day_of_month,"onUpdate:modelValue":s[26]||(s[26]=r=>e(l).recurrence_day_of_month=r),min:1,max:31},null,8,["modelValue"]),t("small",Rt,i(e(l).errors.recurrence_day_of_month),1)])])):y("",!0),e(l).recurrence_type==="custom"?(v(),f("div",Lt,[Jt,n(e(re),{id:"custom_recurrence_config",class:"w-full",modelValue:e(l).custom_recurrence_config,"onUpdate:modelValue":s[27]||(s[27]=r=>e(l).custom_recurrence_config=r),rows:"3",placeholder:"Ex: 'every 2 weeks on Monday and Friday'"},null,8,["modelValue"])])):y("",!0)])]),_:1},8,["visible","header"])]),_:1}))}};export{vs as default};
