import{a as ge,b as Ve,r as c,T as we,d as U,w as N,e as W,f as y,h as x,o as p,i as n,g as l,Z as Te,j as s,p as f,l as v,k as T,t as i,s as Se}from"./app-DlduAWKf.js";import{i as Ee,a as ke,b as De,c as qe,l as Me,F as Ue}from"./fr-CfWpnIHL.js";import{_ as xe}from"./AppLayout-D_JPO1-D.js";import{s as $}from"./index-CnzqN9d3.js";import{s as K}from"./index-B-_-q9gt.js";import{s as h}from"./index-CNkdB_e-.js";import{s as O}from"./index-C_kRDVS3.js";import{s as H}from"./index-a9PRqMaA.js";import{s as Q}from"./index-DbTmqpmk.js";import{s as $e}from"./index-BwYwC2Ci.js";import{s as Ae}from"./index-B-ypsgTT.js";import{s as Pe}from"./index-8z2yMFcP.js";import{s as je}from"./index-wymrxioL.js";import{s as Y}from"./index-C6x4EAcl.js";import{s as g}from"./index-Ch-n-CSZ.js";import{s as Ce}from"./index-D4BnT4fz.js";import{a as Ne,s as Oe}from"./index-BLVnNnMn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DF0J99-Y.js";import"./index-C9R50wYM.js";import"./index-B298Qu7_.js";import"./index-DEclfOQi.js";import"./index-BQ2NgWYf.js";import"./index-C4OTDIwl.js";import"./index-BZHgS7zr.js";const Fe=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"ðŸ“… Agenda de Maintenance",-1),Ie={class:"grid"},Re={class:"col-12"},Le={class:"flex items-center gap-2"},Je=s("i",{class:"pi pi-search"},null,-1),Be={class:"bg-white p-6 rounded-lg shadow-xl w-full"},ze={key:0,class:"p-fluid"},Ge={class:"field mb-4"},We={class:"mb-2"},Ke=s("strong",null,"Type :",-1),He={class:"mb-2"},Qe=s("strong",null,"Statut :",-1),Ye={class:"mb-4"},Ze=s("strong",null,"PrioritÃ© :",-1),Xe=s("hr",{class:"my-4"},null,-1),el={key:0,class:"field mb-4 p-3 border-round bg-yellow-100 border-1 border-yellow-300"},ll=s("p",{class:"font-bold text-yellow-800"},"RÃ¨gle de charge quotidienne :",-1),tl={class:"text-yellow-800"},sl={key:1,class:"my-4"},rl={class:"field mb-2"},al=s("strong",null,"DÃ©but de la pÃ©riode :",-1),nl={class:"field mb-4"},ol=s("strong",null,"Fin de la pÃ©riode :",-1),il={class:"field mb-4"},dl=s("strong",null,"DurÃ©e Totale EstimÃ©e:",-1),ul={class:"p-fluid"},cl={class:"grid grid-cols-2 gap-2"},_l={class:"field"},ml=s("label",{for:"title",class:"font-semibold"},"Titre",-1),pl={class:"p-error"},fl={class:"field"},vl=s("label",{for:"related_equipments",class:"font-semibold"},"Ã‰quipements LiÃ©s",-1),yl={class:"p-error"},hl={class:"grid grid-cols-2 gap-2"},bl={class:"field"},gl=s("label",{for:"assignable_type",class:"font-semibold"},"Assigner Ã  (Type)",-1),Vl={class:"p-error"},wl={class:"field"},Tl=s("label",{for:"assignable_id",class:"font-semibold"},"Assigner Ã  (Nom)",-1),Sl={class:"p-error"},El={class:"field"},kl=s("label",{for:"description",class:"font-semibold"},"Description",-1),Dl={class:"p-error"},ql={class:"grid grid-cols-2 gap-2"},Ml={class:"field"},Ul=s("label",{for:"type",class:"font-semibold"},"Type de Maintenance",-1),xl={class:"p-error"},$l={class:"field"},Al=s("label",{for:"status",class:"font-semibold"},"Statut",-1),Pl={class:"p-error"},jl={class:"grid grid-cols-2 gap-2"},Cl={class:"field"},Nl=s("label",{for:"priority",class:"font-semibold"},"PrioritÃ©",-1),Ol={class:"p-error"},Fl={class:"field"},Il=s("label",{for:"estimated_duration",class:"font-semibold"},"DurÃ©e EstimÃ©e (minutes)",-1),Rl={class:"p-error"},Ll={class:"grid grid-cols-2 gap-2"},Jl={class:"field"},Bl={for:"scheduled_start_date",class:"font-semibold"},zl={class:"field"},Gl={for:"scheduled_end_date",class:"font-semibold"},Wl={class:"grid grid-cols-2 gap-2"},Kl={class:"field"},Hl=s("label",{for:"cost",class:"font-semibold"},"CoÃ»t / Budget",-1),Ql={class:"field"},Yl=s("label",{for:"region_id",class:"font-semibold"},"RÃ©gion",-1),Zl={class:"field"},Xl=s("label",{for:"recurrence_type",class:"font-semibold"},"Type de RÃ©currence",-1),et={key:0,class:"field"},lt=s("label",{for:"recurrence_interval",class:"font-semibold"},"Nombre de jours",-1),tt={class:"p-error"},st={key:1,class:"field"},rt=s("label",{for:"recurrence_days",class:"font-semibold"},"Jours de la semaine",-1),at={class:"p-error"},nt={key:2,class:"field"},ot=s("label",{for:"recurrence_day_of_month",class:"font-semibold"},"Jour du mois",-1),it={class:"p-error"},dt={key:3,class:"field"},ut=s("label",{for:"recurrence_month_interval",class:"font-semibold"},"Nombre de mois",-1),ct={class:"p-error"},_t={key:4,class:"field"},mt={class:"field"},pt=s("label",{for:"scheduled_start_date_recurrence",class:"font-semibold"},"Date de dÃ©but de rÃ©currence",-1),ft={class:"p-error"},vt={key:5,class:"field"},yt={for:"recurrence_interval",class:"font-semibold"},ht={class:"p-error"},bt={key:6,class:"field"},gt=s("label",{for:"reminder_days",class:"font-semibold"},"Jours de rappel avant exÃ©cution",-1),Vt={class:"p-error"},wt={key:7,class:"grid grid-cols-2 gap-4"},Tt={class:"field"},St=s("label",{for:"recurrence_month",class:"font-semibold"},"Mois de dÃ©but",-1),Et={class:"p-error"},kt={class:"field"},Dt=s("label",{for:"recurrence_day_of_month_complex",class:"font-semibold"},"Jour du mois",-1),qt={class:"p-error"},Mt={key:8,class:"field"},Ut=s("label",{for:"custom_recurrence_config",class:"font-semibold"},"Configuration personnalisÃ©e de la rÃ©currence",-1),xt="07:00:00",$t="16:00:00",rs={__name:"Agenda",props:{events:Array,maintenances:Object,filters:Object,users:Array,teams:Object,equipmentTree:Object,regions:Array},setup(Z){var z,G;const _=Z,b=ge();Ve();const S=c(((z=_.filters)==null?void 0:z.status)||""),A=c(((G=_.filters)==null?void 0:G.search)||""),E=c(!1),P=c(!1),w=c(!1),k=c(!1),d=c(null),X=c(["PlanifiÃ©e","En cours","En attente","TerminÃ©e","AnnulÃ©e","En retard"]),e=we({id:null,title:"",description:"",assignable_type:null,assignable_id:null,type:"PrÃ©ventive",status:"PlanifiÃ©e",priority:"Moyenne",scheduled_start_date:null,scheduled_end_date:null,cost:null,recurrence_type:null,estimated_duration:null,related_equipments:{},region_id:null,recurrence_interval:null,recurrence_days:[],recurrence_day_of_month:null,recurrence_month_interval:null,recurrence_month:null,reminder_days:null,custom_recurrence_config:null}),ee=c(["PrÃ©ventive","Corrective"]),le=c(["PlanifiÃ©e","En cours","En attente","TerminÃ©e","AnnulÃ©e","En retard"]),te=c(["Basse","Moyenne","Haute","Urgente"]),se=c([{label:"Technicien",value:"App\\Models\\User"},{label:"Ã‰quipe",value:"App\\Models\\Team"}]),re=c([{label:"Aucune",value:null},{label:"Quotidienne",value:"daily"},{label:"Hebdomadaire",value:"weekly"},{label:"Mensuelle",value:"monthly"},{label:"Trimestrielle",value:"quarterly"},{label:"Semestrielle",value:"biannual"},{label:"Annuelle",value:"annual"},{label:"PersonnalisÃ©e",value:"custom"}]),ae=c([{label:"Lundi",value:"mon"},{label:"Mardi",value:"tue"},{label:"Mercredi",value:"wed"},{label:"Jeudi",value:"thu"},{label:"Vendredi",value:"fri"},{label:"Samedi",value:"sat"},{label:"Dimanche",value:"sun"}]),ne=c([{label:"Janvier",value:1},{label:"FÃ©vrier",value:2},{label:"Mars",value:3},{label:"Avril",value:4},{label:"Mai",value:5},{label:"Juin",value:6},{label:"Juillet",value:7},{label:"AoÃ»t",value:8},{label:"Septembre",value:9},{label:"Octobre",value:10},{label:"Novembre",value:11},{label:"DÃ©cembre",value:12}]),oe=U(()=>e.assignable_type==="App\\Models\\User"?_.users:e.assignable_type==="App\\Models\\Team"?_.teams.data||_.teams:[]),ie=U(()=>w.value?"Modifier la Maintenance":"CrÃ©er une nouvelle Maintenance"),de=U(()=>{if(!_.equipmentTree||typeof _.equipmentTree!="object")return[];const a=t=>t?{key:String(t.id),label:t.designation||t.label,icon:"pi pi-fw pi-cog",children:t.children?Object.values(t.children).map(a).filter(r=>r):[]}:null;return Object.values(_.equipmentTree).map(a).filter(t=>t)}),ue=a=>{switch(a){case"activity":return"#3498db";case"maintenance":return"#e74c3c";case"task":return"#2ecc71";default:return"#95a5a6"}},F=(a,t,r="00:00:00")=>a?a.replace("T"," ").split(" ")[0]:null,ce=(a,t)=>{if(!a||!t)return!1;const r=F(a),o=F(t);return r!==o},I=U(()=>{var r;const a=_.events.length>0?_.events:((r=_.maintenances)==null?void 0:r.data)||[],t=[];return a.filter(o=>S.value===""||o.status===S.value).forEach(o=>{const m=o.scheduled_start_date||o.start_date,u=o.scheduled_end_date||o.end_date;if(!m||!u){console.warn("Ã‰vÃ©nement ignorÃ© car date de dÃ©but ou de fin manquante:",o);return}ce(m,u);const V={extendedProps:o,title:o.title||o.label,color:ue(o.type),allDay:!1};t.push({...V,id:o.id,start:m,end:u,allDay:!m.includes(" ")&&!m.includes("T")})}),t}),R=a=>a?a.split("+")[0].split(".")[0].trim().replace("T"," "):null,L=a=>{const t=a.event,r=R(t.startStr),o=R(t.endStr),m=t.id,u=t.extendedProps.type;let V,D,C={},q,M;if(u==="maintenance")V="maintenances.update",D={maintenance:m},q="scheduled_start_date",M="scheduled_end_date";else if(u==="task")V="tasks.update",D={task:m},q="planned_start_date",M="planned_end_date";else if(u==="activity")V="activities.update",D={activity:m},q="actual_start_time",M="actual_end_time";else{a.revert(),b.add({severity:"error",summary:"Erreur",detail:"Type d'Ã©vÃ©nement inconnu pour la mise Ã  jour.",life:3e3});return}if(!route().has(V)){a.revert(),b.add({severity:"error",summary:"Erreur",detail:"Route de mise Ã  jour non trouvÃ©e.",life:3e3});return}C[q]=r,C[M]=o,b.add({severity:"info",summary:"Mise Ã  jour",detail:`DÃ©placement de l'Ã©vÃ©nement #${m} (${u})...`,life:3e3}),x.put(route(V,D),C,{preserveState:!0,onError:be=>{a.revert(),console.error(`Erreur lors de la mise Ã  jour de l'Ã©vÃ©nement (${u}):`,be),b.add({severity:"error",summary:"Erreur",detail:`Impossible de mettre Ã  jour l'Ã©vÃ©nement de type ${u}.`,life:5e3})},onSuccess:()=>{b.add({severity:"success",summary:"SuccÃ¨s",detail:`Ã‰vÃ©nement de type ${u} mis Ã  jour.`,life:3e3})}})},_e=a=>{var r;return(_.events.length>0?_.events:((r=_.maintenances)==null?void 0:r.data)||[]).find(o=>o.id==a)},me=a=>{e.reset(),w.value=!0,e.id=a.id,e.title=a.title||a.label,e.description=a.description,e.assignable_type=a.assignable_type,e.assignable_id=a.assignable_id,e.type=a.type||"PrÃ©ventive",e.status=a.status||"PlanifiÃ©e",e.priority=a.priority||"Moyenne",e.cost=a.cost,e.estimated_duration=a.estimated_duration,e.region_id=a.region_id,e.recurrence_type=a.recurrence_type,e.recurrence_interval=a.recurrence_interval,e.recurrence_days=a.recurrence_days||[],e.recurrence_day_of_month=a.recurrence_day_of_month,e.recurrence_month_interval=a.recurrence_month_interval,e.recurrence_month=a.recurrence_month,e.reminder_days=a.reminder_days,e.custom_recurrence_config=a.custom_recurrence_config;const t=a.scheduled_start_date||a.start_date,r=a.scheduled_end_date||a.end_date;e.scheduled_start_date=t?new Date(t.replace(" ","T")):null,e.scheduled_end_date=r?new Date(r.replace(" ","T")):null,a.equipments?e.related_equipments=a.equipments.reduce((o,m)=>(o[String(m.id)]={checked:!0,partialChecked:!1},o),{}):e.related_equipments={},E.value=!0},pe=a=>{const t=_e(a.event.id);t&&(d.value={title:t.title||t.label,...t,start:t.scheduled_start_date||t.start_date,end:t.scheduled_end_date||t.end_date,color:a.event.backgroundColor,daily_schedule:t.daily_schedule},k.value=!0)},j=c({plugins:[Ee,ke,De,qe],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek,listYear"},events:I.value,locale:Me,editable:!0,eventDurationEditable:!0,selectable:!0,eventDrop:L,eventResize:L,eventClick:pe,slotMinTime:xt,slotMaxTime:$t});N(I,a=>{j.value&&(j.value.events=a)},{deep:!0}),N(()=>e.assignable_type,a=>{e.assignable_id=null}),N(()=>e.recurrence_type,a=>{e.recurrence_interval=null,e.recurrence_days=[],e.recurrence_day_of_month=null,e.recurrence_month_interval=null,e.recurrence_month=null,e.reminder_days=null,e.custom_recurrence_config=null});const J=()=>{x.get(route("agenda.index"),{search:A.value,status:S.value},{preserveState:!0,replace:!0})},fe=()=>{E.value=!1,P.value=!1},ve=()=>{if(P.value=!0,!e.title||Object.keys(e.related_equipments).length===0||!e.type){b.add({severity:"error",summary:"Erreur",detail:"Veuillez remplir les champs obligatoires (Titre, Ã‰quipement, Type).",life:3e3});return}const a=e.related_equipments?Object.keys(e.related_equipments).filter(u=>e.related_equipments[u]&&e.related_equipments[u].checked).map(u=>parseInt(u,10)):[],t={...e.data(),equipment_ids:a,scheduled_start_date:e.scheduled_start_date?new Date(e.scheduled_start_date).toISOString().slice(0,19).replace("T"," "):null,scheduled_end_date:e.scheduled_end_date?new Date(e.scheduled_end_date).toISOString().slice(0,19).replace("T"," "):null};e.assignable_type||(t.assignable_id=null);const r=w.value?"maintenances.update":"maintenances.store",o=w.value?"put":"post",m=w.value?{maintenance:e.id}:{};x[o](route(r,m),t,{onSuccess:()=>{E.value=!1,b.add({severity:"success",summary:"SuccÃ¨s",detail:`Maintenance ${w.value?"mise Ã  jour":"crÃ©Ã©e"} avec succÃ¨s.`,life:3e3}),e.reset(),x.reload({only:["events","maintenances"]})},onError:u=>{console.error("Erreur lors de la sauvegarde de la maintenance",u),b.add({severity:"error",summary:"Erreur",detail:"Une erreur est survenue lors de la sauvegarde.",life:3e3}),e.errors=u}})},B=a=>a?(a instanceof Date?a:new Date(a)).toLocaleString("fr-FR",{dateStyle:"full",timeStyle:"short"}):"N/A",ye=a=>({PlanifiÃ©e:"info","En cours":"warning",TerminÃ©e:"success",AnnulÃ©e:"secondary","En retard":"danger","En attente":"contrast"})[a]||null,he=a=>({Basse:"info",Moyenne:"success",Haute:"warning",Urgente:"danger"})[a]||null;return(a,t)=>(p(),W(xe,{title:"Gestion des Maintenances"},{header:y(()=>[Fe]),default:y(()=>[n(l(Te),{title:"Agenda de Maintenance"}),s("div",Ie,[s("div",Re,[n(l(Pe)),n(l(je)),n(l(Ae),{class:"mb-4"},{end:y(()=>[s("div",Le,[n(l(Ne),null,{default:y(()=>[n(l(Oe),null,{default:y(()=>[Je]),_:1}),n(l(H),{modelValue:A.value,"onUpdate:modelValue":t[0]||(t[0]=r=>A.value=r),placeholder:"Rechercher...",onInput:J},null,8,["modelValue"])]),_:1}),n(l(h),{modelValue:S.value,"onUpdate:modelValue":t[1]||(t[1]=r=>S.value=r),options:X.value,placeholder:"Filtrer par statut",showClear:"",onChange:J,class:"w-full md:w-auto"},null,8,["modelValue","options"])])]),_:1}),s("div",Be,[n(l(Ue),{options:j.value},null,8,["options"])])])]),n(l(K),{header:d.value?"DÃ©tails: "+d.value.title:"DÃ©tails de l'Ã©vÃ©nement",visible:k.value,"onUpdate:visible":t[4]||(t[4]=r=>k.value=r),modal:"",style:{width:"400px"}},{footer:y(()=>[d.value&&d.value.type==="maintenance"?(p(),W(l($),{key:0,label:"Ã‰diter",icon:"pi pi-pencil",onClick:t[2]||(t[2]=r=>{k.value=!1,me(d.value)}),class:"p-button-primary mr-2"})):f("",!0),n(l($),{label:"Fermer",icon:"pi pi-times",onClick:t[3]||(t[3]=r=>k.value=!1),class:"p-button-text"})]),default:y(()=>{var r,o;return[d.value?(p(),v("div",ze,[s("div",Ge,[s("p",We,[Ke,T(" "+i(d.value.type||"N/A"),1)]),s("p",He,[Qe,T(),n(l(Q),{value:d.value.status,severity:ye(d.value.status)},null,8,["value","severity"])]),s("p",Ye,[Ze,T(),n(l(Q),{value:d.value.priority,severity:he(d.value.priority)},null,8,["value","severity"])])]),Xe,d.value.daily_schedule?(p(),v("div",el,[ll,s("p",tl," L'Ã©vÃ©nement est planifiÃ© de **"+i(d.value.daily_schedule)+"** pour **chaque jour** de la pÃ©riode ("+i(d.value.daily_schedule.includes(" - ")?"soit "+((parseInt((r=d.value.daily_schedule.split(" - ")[1])==null?void 0:r.split(":")[0])||0)-(parseInt((o=d.value.daily_schedule.split(" - ")[0])==null?void 0:o.split(":")[0])||0))+" heures de travail par jour.":"")+"). ",1)])):f("",!0),d.value.daily_schedule?(p(),v("hr",sl)):f("",!0),s("div",rl,[s("p",null,[al,T(" "+i(B(d.value.start)),1)])]),s("div",nl,[s("p",null,[ol,T(" "+i(B(d.value.end)),1)])]),s("div",il,[s("p",null,[dl,T(" "+i(d.value.estimated_duration?d.value.estimated_duration+" minutes":"N/A"),1)])])])):f("",!0)]}),_:1},8,["header","visible"]),n(l(K),{visible:E.value,"onUpdate:visible":t[29]||(t[29]=r=>E.value=r),modal:"",header:ie.value,style:{width:"65rem"}},{footer:y(()=>[n(l($),{label:"Annuler",icon:"pi pi-times",onClick:fe,class:"p-button-text"}),n(l($),{label:"Sauvegarder",icon:"pi pi-check",onClick:ve,loading:l(e).processing},null,8,["loading"])]),default:y(()=>[s("div",ul,[s("div",cl,[s("div",_l,[ml,n(l(H),{id:"title",class:Se(["w-full",{"p-invalid":P.value&&!l(e).title}]),modelValue:l(e).title,"onUpdate:modelValue":t[5]||(t[5]=r=>l(e).title=r),modelModifiers:{trim:!0}},null,8,["modelValue","class"]),s("small",pl,i(l(e).errors.title),1)]),s("div",fl,[vl,n(l($e),{modelValue:l(e).related_equipments,"onUpdate:modelValue":t[6]||(t[6]=r=>l(e).related_equipments=r),options:de.value,placeholder:"SÃ©lectionner des Ã©quipements",filter:"",selectionMode:"checkbox",display:"chip",class:"w-full"},null,8,["modelValue","options"]),s("small",yl,i(l(e).errors.related_equipments),1)])]),s("div",hl,[s("div",bl,[gl,n(l(h),{id:"assignable_type",class:"w-full",modelValue:l(e).assignable_type,"onUpdate:modelValue":t[7]||(t[7]=r=>l(e).assignable_type=r),options:se.value,optionLabel:"label",optionValue:"value",placeholder:"Type d'assignation"},null,8,["modelValue","options"]),s("small",Vl,i(l(e).errors.assignable_type),1)]),s("div",wl,[Tl,n(l(h),{id:"assignable_id",class:"w-full",modelValue:l(e).assignable_id,"onUpdate:modelValue":t[8]||(t[8]=r=>l(e).assignable_id=r),options:oe.value,optionLabel:"name",optionValue:"id",placeholder:"SÃ©lectionner une personne/Ã©quipe",disabled:!l(e).assignable_type,filter:""},null,8,["modelValue","options","disabled"]),s("small",Sl,i(l(e).errors.assignable_id),1)])]),s("div",El,[kl,n(l(Y),{id:"description",class:"w-full",modelValue:l(e).description,"onUpdate:modelValue":t[9]||(t[9]=r=>l(e).description=r),rows:"3"},null,8,["modelValue"]),s("small",Dl,i(l(e).errors.description),1)]),s("div",ql,[s("div",Ml,[Ul,n(l(h),{id:"type",class:"w-full",modelValue:l(e).type,"onUpdate:modelValue":t[10]||(t[10]=r=>l(e).type=r),options:ee.value,placeholder:"SÃ©lectionner un type"},null,8,["modelValue","options"]),s("small",xl,i(l(e).errors.type),1)]),s("div",$l,[Al,n(l(h),{id:"status",class:"w-full",modelValue:l(e).status,"onUpdate:modelValue":t[11]||(t[11]=r=>l(e).status=r),options:le.value,placeholder:"SÃ©lectionner un statut"},null,8,["modelValue","options"]),s("small",Pl,i(l(e).errors.status),1)])]),s("div",jl,[s("div",Cl,[Nl,n(l(h),{id:"priority",class:"w-full",modelValue:l(e).priority,"onUpdate:modelValue":t[12]||(t[12]=r=>l(e).priority=r),options:te.value,placeholder:"SÃ©lectionner une prioritÃ©"},null,8,["modelValue","options"]),s("small",Ol,i(l(e).errors.priority),1)]),s("div",Fl,[Il,n(l(g),{id:"estimated_duration",class:"w-full",modelValue:l(e).estimated_duration,"onUpdate:modelValue":t[13]||(t[13]=r=>l(e).estimated_duration=r),min:0},null,8,["modelValue"]),s("small",Rl,i(l(e).errors.estimated_duration),1)])]),s("div",Ll,[s("div",Jl,[s("label",Bl,i(l(e).status==="PlanifiÃ©e"?"Date de dÃ©but planifiÃ©e":"Date de dÃ©but"),1),n(l(O),{id:"scheduled_start_date",class:"w-full",modelValue:l(e).scheduled_start_date,"onUpdate:modelValue":t[14]||(t[14]=r=>l(e).scheduled_start_date=r),showTime:"",dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"])]),s("div",zl,[s("label",Gl,i(l(e).status==="PlanifiÃ©e"?"Date de fin planifiÃ©e":"Date de fin"),1),n(l(O),{id:"scheduled_end_date",class:"w-full",modelValue:l(e).scheduled_end_date,"onUpdate:modelValue":t[15]||(t[15]=r=>l(e).scheduled_end_date=r),showTime:"",dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"])])]),s("div",Wl,[s("div",Kl,[Hl,n(l(g),{id:"cost",class:"w-full",modelValue:l(e).cost,"onUpdate:modelValue":t[16]||(t[16]=r=>l(e).cost=r),mode:"currency",currency:"USD",locale:"fr-FR",min:0},null,8,["modelValue"])]),s("div",Ql,[Yl,n(l(h),{id:"region_id",class:"w-full",modelValue:l(e).region_id,"onUpdate:modelValue":t[17]||(t[17]=r=>l(e).region_id=r),options:_.regions,optionLabel:"designation",optionValue:"id",placeholder:"SÃ©lectionner une rÃ©gion",filter:""},null,8,["modelValue","options"])])]),s("div",Zl,[Xl,n(l(h),{id:"recurrence_type",class:"w-full",modelValue:l(e).recurrence_type,"onUpdate:modelValue":t[18]||(t[18]=r=>l(e).recurrence_type=r),options:re.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner un type de rÃ©currence"},null,8,["modelValue","options"])]),l(e).recurrence_type==="daily"?(p(),v("div",et,[lt,n(l(g),{id:"recurrence_interval",class:"w-full",modelValue:l(e).recurrence_interval,"onUpdate:modelValue":t[19]||(t[19]=r=>l(e).recurrence_interval=r),min:1,max:365},null,8,["modelValue"]),s("small",tt,i(l(e).errors.recurrence_interval),1)])):f("",!0),l(e).recurrence_type==="weekly"?(p(),v("div",st,[rt,n(l(Ce),{id:"recurrence_days",class:"w-full",modelValue:l(e).recurrence_days,"onUpdate:modelValue":t[20]||(t[20]=r=>l(e).recurrence_days=r),options:ae.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner les jours",display:"chip"},null,8,["modelValue","options"]),s("small",at,i(l(e).errors.recurrence_days),1)])):f("",!0),l(e).recurrence_type==="monthly"?(p(),v("div",nt,[ot,n(l(g),{id:"recurrence_day_of_month",class:"w-full",modelValue:l(e).recurrence_day_of_month,"onUpdate:modelValue":t[21]||(t[21]=r=>l(e).recurrence_day_of_month=r),min:1,max:31},null,8,["modelValue"]),s("small",it,i(l(e).errors.recurrence_day_of_month),1)])):f("",!0),l(e).recurrence_type==="monthly"?(p(),v("div",dt,[ut,n(l(g),{id:"recurrence_month_interval",class:"w-full",modelValue:l(e).recurrence_month_interval,"onUpdate:modelValue":t[22]||(t[22]=r=>l(e).recurrence_month_interval=r),min:1,max:12},null,8,["modelValue"]),s("small",ct,i(l(e).errors.recurrence_month_interval),1)])):f("",!0),["quarterly","biannual","annual"].includes(l(e).recurrence_type)?(p(),v("div",_t,[s("div",mt,[pt,n(l(O),{id:"scheduled_start_date_recurrence",class:"w-full",modelValue:l(e).scheduled_start_date,"onUpdate:modelValue":t[23]||(t[23]=r=>l(e).scheduled_start_date=r),dateFormat:"dd/mm/yy",showIcon:""},null,8,["modelValue"]),s("small",ft,i(l(e).errors.scheduled_start_date),1)])])):f("",!0),["quarterly","biannual","annual"].includes(l(e).recurrence_type)?(p(),v("div",vt,[s("label",yt,"Nombre de "+i(l(e).recurrence_type==="quarterly"?"trimestres":l(e).recurrence_type==="biannual"?"semestres":"annÃ©es"),1),n(l(g),{id:"recurrence_interval",class:"w-full",modelValue:l(e).recurrence_interval,"onUpdate:modelValue":t[24]||(t[24]=r=>l(e).recurrence_interval=r),min:1},null,8,["modelValue"]),s("small",ht,i(l(e).errors.recurrence_interval),1)])):f("",!0),["quarterly","biannual","annual"].includes(l(e).recurrence_type)?(p(),v("div",bt,[gt,n(l(g),{id:"reminder_days",class:"w-full",modelValue:l(e).reminder_days,"onUpdate:modelValue":t[25]||(t[25]=r=>l(e).reminder_days=r),min:0},null,8,["modelValue"]),s("small",Vt,i(l(e).errors.reminder_days),1)])):f("",!0),l(e).recurrence_type==="quarterly"||l(e).recurrence_type==="biannual"||l(e).recurrence_type==="annual"?(p(),v("div",wt,[s("div",Tt,[St,n(l(h),{id:"recurrence_month",class:"w-full",modelValue:l(e).recurrence_month,"onUpdate:modelValue":t[26]||(t[26]=r=>l(e).recurrence_month=r),options:ne.value,optionLabel:"label",optionValue:"value",placeholder:"SÃ©lectionner un mois"},null,8,["modelValue","options"]),s("small",Et,i(l(e).errors.recurrence_month),1)]),s("div",kt,[Dt,n(l(g),{id:"recurrence_day_of_month_complex",class:"w-full",modelValue:l(e).recurrence_day_of_month,"onUpdate:modelValue":t[27]||(t[27]=r=>l(e).recurrence_day_of_month=r),min:1,max:31},null,8,["modelValue"]),s("small",qt,i(l(e).errors.recurrence_day_of_month),1)])])):f("",!0),l(e).recurrence_type==="custom"?(p(),v("div",Mt,[Ut,n(l(Y),{id:"custom_recurrence_config",class:"w-full",modelValue:l(e).custom_recurrence_config,"onUpdate:modelValue":t[28]||(t[28]=r=>l(e).custom_recurrence_config=r),rows:"3",placeholder:"Ex: 'every 2 weeks on Monday and Friday'"},null,8,["modelValue"])])):f("",!0)])]),_:1},8,["visible","header"])]),_:1}))}};export{rs as default};
