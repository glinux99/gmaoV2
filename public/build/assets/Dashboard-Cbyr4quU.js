import{a as le,U as ke,Z as ee,C as Ue,b as He,R as Ie}from"./index-BN5aQcOg.js";import{T as We}from"./index-BbFIc-qF.js";import{s as Xe}from"./index-CsEuBKcf.js";import{s as Ye,a as qe}from"./index-6CLnIpjK.js";import{B as Me,aa as te,o as p,l as m,D as v,j as s,t as d,p as I,H as Z,a4 as J,Q as _e,J as Ze,M as Je,L as se,N as $e,ab as Qe,S as Ge,q as x,e as P,s as E,V as we,R as ae,f as b,i as u,W as et,E as ie,m as D,n as V,k as Q,u as tt,r as S,d as F,_ as st,g as a,ac as C,U as ne,h as it,x as nt,y as at}from"./app-BRAmWWDK.js";import{s as ot}from"./index-DBlwtJFe.js";import{_ as lt}from"./AppLayout-DcYAlXcr.js";import{s as N}from"./index-DWttm_u1.js";import{s as j}from"./index-Ss9Yhkr5.js";import{s as Ce}from"./index-BeaEkU56.js";import{s as K}from"./index-CEA3Snwx.js";import{s as B}from"./index-BLI3-ZB5.js";import{s as rt}from"./index-GxALbbSv.js";import{s as $}from"./index-BeqJB9dn.js";import{s as dt}from"./index-pCk4jKEV.js";import{s as ct}from"./index-_AlfpTFN.js";import{O as ut}from"./index-LMQAJ2bo.js";import{_ as pt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BvqM3u8T.js";import"./index-CDA2CSiu.js";import"./index-RIg7_KOk.js";import"./index-Ci1herNU.js";import"./index-D3aGqElX.js";import"./DropdownLink-BJ7aGovM.js";import"./index-ClmdxtMW.js";import"./index-B0W91G3B.js";import"./index-CcU6oDqo.js";var ht=function(e){var i=e.dt;return`
.p-knob-range {
    fill: none;
    transition: stroke 0.1s ease-in;
}

.p-knob-value {
    animation-name: p-knob-dash-frame;
    animation-fill-mode: forwards;
    fill: none;
}

.p-knob-text {
    font-size: 1.3rem;
    text-align: center;
}

.p-knob svg {
    border-radius: 50%;
    outline-color: transparent;
    transition: background `.concat(i("knob.transition.duration"),", color ").concat(i("knob.transition.duration"),", outline-color ").concat(i("knob.transition.duration"),", box-shadow ").concat(i("knob.transition.duration"),`;
}

.p-knob svg:focus-visible {
    box-shadow: `).concat(i("knob.focus.ring.shadow"),`;
    outline: `).concat(i("knob.focus.ring.width")," ").concat(i("knob.focus.ring.style")," ").concat(i("knob.focus.ring.color"),`;
    outline-offset: `).concat(i("knob.focus.ring.offset"),`;
}

@keyframes p-knob-dash-frame {
    100% {
        stroke-dashoffset: 0;
    }
}
`)},bt={root:function(e){var i=e.props;return["p-knob p-component",{"p-disabled":i.disabled}]},range:"p-knob-range",value:"p-knob-value",text:"p-knob-text"},mt=Me.extend({name:"knob",theme:ht,classes:bt}),ft={name:"BaseKnob",extends:le,props:{modelValue:{type:Number,default:null},size:{type:Number,default:100},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},step:{type:Number,default:1},min:{type:Number,default:0},max:{type:Number,default:100},valueColor:{type:String,default:function(){return te("knob.value.background").variable}},rangeColor:{type:String,default:function(){return te("knob.range.background").variable}},textColor:{type:String,default:function(){return te("knob.text.color").variable}},strokeWidth:{type:Number,default:14},showValue:{type:Boolean,default:!0},valueTemplate:{type:[String,Function],default:"{value}"},tabindex:{type:Number,default:0},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:mt,provide:function(){return{$pcKnob:this,$parentInstance:this}}},U=3.14159265358979,Le={name:"Knob",extends:ft,inheritAttrs:!1,emits:["update:modelValue","change"],data:function(){return{radius:40,midX:50,midY:50,minRadians:4*U/3,maxRadians:-U/3}},methods:{updateValue:function(e,i){var n=e-this.size/2,h=this.size/2-i,l=Math.atan2(h,n),M=-U/2-U/6;this.updateModel(l,M)},updateModel:function(e,i){var n;if(e>this.maxRadians)n=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else if(e<i)n=this.mapRange(e+2*U,this.minRadians,this.maxRadians,this.min,this.max);else return;var h=Math.round((n-this.min)/this.step)*this.step+this.min;this.$emit("update:modelValue",h),this.$emit("change",h)},updateModelValue:function(e){e>this.max?this.$emit("update:modelValue",this.max):e<this.min?this.$emit("update:modelValue",this.min):this.$emit("update:modelValue",e)},mapRange:function(e,i,n,h,l){return(e-i)*(l-h)/(n-i)+h},onClick:function(e){!this.disabled&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)},onMouseDown:function(e){!this.disabled&&!this.readonly&&(window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),e.preventDefault())},onMouseUp:function(e){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),e.preventDefault())},onTouchStart:function(e){!this.disabled&&!this.readonly&&(window.addEventListener("touchmove",this.onTouchMove),window.addEventListener("touchend",this.onTouchEnd),e.preventDefault())},onTouchEnd:function(e){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),e.preventDefault())},onMouseMove:function(e){!this.disabled&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())},onTouchMove:function(e){if(!this.disabled&&!this.readonly&&e.touches.length==1){var i=this.$el.getBoundingClientRect(),n=e.targetTouches.item(0),h=n.clientX-i.left,l=n.clientY-i.top;this.updateValue(h,l)}},onKeyDown:function(e){if(!this.disabled&&!this.readonly)switch(e.code){case"ArrowRight":case"ArrowUp":{e.preventDefault(),this.updateModelValue(this.modelValue+this.step);break}case"ArrowLeft":case"ArrowDown":{e.preventDefault(),this.updateModelValue(this.modelValue-this.step);break}case"Home":{e.preventDefault(),this.$emit("update:modelValue",this.min);break}case"End":{e.preventDefault(),this.$emit("update:modelValue",this.max);break}case"PageUp":{e.preventDefault(),this.updateModelValue(this.modelValue+10);break}case"PageDown":{e.preventDefault(),this.updateModelValue(this.modelValue-10);break}}}},computed:{rangePath:function(){return"M ".concat(this.minX," ").concat(this.minY," A ").concat(this.radius," ").concat(this.radius," 0 1 1 ").concat(this.maxX," ").concat(this.maxY)},valuePath:function(){return"M ".concat(this.zeroX," ").concat(this.zeroY," A ").concat(this.radius," ").concat(this.radius," 0 ").concat(this.largeArc," ").concat(this.sweep," ").concat(this.valueX," ").concat(this.valueY)},zeroRadians:function(){return this.min>0&&this.max>0?this.mapRange(this.min,this.min,this.max,this.minRadians,this.maxRadians):this.mapRange(0,this.min,this.max,this.minRadians,this.maxRadians)},valueRadians:function(){return this.mapRange(this.modelValue,this.min,this.max,this.minRadians,this.maxRadians)},minX:function(){return this.midX+Math.cos(this.minRadians)*this.radius},minY:function(){return this.midY-Math.sin(this.minRadians)*this.radius},maxX:function(){return this.midX+Math.cos(this.maxRadians)*this.radius},maxY:function(){return this.midY-Math.sin(this.maxRadians)*this.radius},zeroX:function(){return this.midX+Math.cos(this.zeroRadians)*this.radius},zeroY:function(){return this.midY-Math.sin(this.zeroRadians)*this.radius},valueX:function(){return this.midX+Math.cos(this.valueRadians)*this.radius},valueY:function(){return this.midY-Math.sin(this.valueRadians)*this.radius},largeArc:function(){return Math.abs(this.zeroRadians-this.valueRadians)<U?0:1},sweep:function(){return this.valueRadians>this.zeroRadians?0:1},valueToDisplay:function(){return typeof this.valueTemplate=="string"?this.valueTemplate.replace(/{value}/g,this.modelValue):this.valueTemplate(this.modelValue)}}},vt=["width","height","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-labelledby","aria-label"],gt=["d","stroke-width","stroke"],xt=["d","stroke-width","stroke"],yt=["fill"];function kt(t,e,i,n,h,l){return p(),m("div",v({class:t.cx("root")},t.ptmi("root")),[(p(),m("svg",v({viewBox:"0 0 100 100",role:"slider",width:t.size,height:t.size,tabindex:t.readonly||t.disabled?-1:t.tabindex,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-labelledby":t.ariaLabelledby,"aria-label":t.ariaLabel,onClick:e[0]||(e[0]=function(){return l.onClick&&l.onClick.apply(l,arguments)}),onKeydown:e[1]||(e[1]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)}),onMousedown:e[2]||(e[2]=function(){return l.onMouseDown&&l.onMouseDown.apply(l,arguments)}),onMouseup:e[3]||(e[3]=function(){return l.onMouseUp&&l.onMouseUp.apply(l,arguments)}),onTouchstartPassive:e[4]||(e[4]=function(){return l.onTouchStart&&l.onTouchStart.apply(l,arguments)}),onTouchend:e[5]||(e[5]=function(){return l.onTouchEnd&&l.onTouchEnd.apply(l,arguments)})},t.ptm("svg")),[s("path",v({d:l.rangePath,"stroke-width":t.strokeWidth,stroke:t.rangeColor,class:t.cx("range")},t.ptm("range")),null,16,gt),s("path",v({d:l.valuePath,"stroke-width":t.strokeWidth,stroke:t.valueColor,class:t.cx("value")},t.ptm("value")),null,16,xt),t.showValue?(p(),m("text",v({key:0,x:50,y:57,"text-anchor":"middle",fill:t.textColor,class:t.cx("text")},t.ptm("text")),d(l.valueToDisplay),17,yt)):I("",!0)],16,vt))],16)}Le.render=kt;var _t=function(e){var i=e.dt;return`
.p-menu {
    background: `.concat(i("menu.background"),`;
    color: `).concat(i("menu.color"),`;
    border: 1px solid `).concat(i("menu.border.color"),`;
    border-radius: `).concat(i("menu.border.radius"),`;
    min-width: 12.5rem;
}

.p-menu-list {
    margin: 0;
    padding: `).concat(i("menu.list.padding"),`;
    outline: 0 none;
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: `).concat(i("menu.list.gap"),`;
}

.p-menu-item-content {
    transition: background `).concat(i("menu.transition.duration"),", color ").concat(i("menu.transition.duration"),`;
    border-radius: `).concat(i("menu.item.border.radius"),`;
    color: `).concat(i("menu.item.color"),`;
}

.p-menu-item-link {
    cursor: pointer;
    display: flex;
    align-items: center;
    text-decoration: none;
    overflow: hidden;
    position: relative;
    color: inherit;
    padding: `).concat(i("menu.item.padding"),`;
    gap: `).concat(i("menu.item.gap"),`;
    user-select: none;
    outline: 0 none;
}

.p-menu-item-label {
    line-height: 1;
}

.p-menu-item-icon {
    color: `).concat(i("menu.item.icon.color"),`;
}

.p-menu-item.p-focus .p-menu-item-content {
    color: `).concat(i("menu.item.focus.color"),`;
    background: `).concat(i("menu.item.focus.background"),`;
}

.p-menu-item.p-focus .p-menu-item-icon {
    color: `).concat(i("menu.item.icon.focus.color"),`;
}

.p-menu-item:not(.p-disabled) .p-menu-item-content:hover {
    color: `).concat(i("menu.item.focus.color"),`;
    background: `).concat(i("menu.item.focus.background"),`;
}

.p-menu-item:not(.p-disabled) .p-menu-item-content:hover .p-menu-item-icon {
    color: `).concat(i("menu.item.icon.focus.color"),`;
}

.p-menu-overlay {
    box-shadow: `).concat(i("menu.shadow"),`;
}

.p-menu-submenu-label {
    background: `).concat(i("menu.submenu.label.background"),`;
    padding: `).concat(i("menu.submenu.label.padding"),`;
    color: `).concat(i("menu.submenu.label.color"),`;
    font-weight: `).concat(i("menu.submenu.label.font.weight"),`;
}

.p-menu-separator {
    border-top: 1px solid `).concat(i("menu.separator.border.color"),`;
}
`)},wt={root:function(e){var i=e.props;return["p-menu p-component",{"p-menu-overlay":i.popup}]},start:"p-menu-start",list:"p-menu-list",submenuLabel:"p-menu-submenu-label",separator:"p-menu-separator",end:"p-menu-end",item:function(e){var i=e.instance;return["p-menu-item",{"p-focus":i.id===i.focusedOptionId,"p-disabled":i.disabled()}]},itemContent:"p-menu-item-content",itemLink:"p-menu-item-link",itemIcon:"p-menu-item-icon",itemLabel:"p-menu-item-label"},Ct=Me.extend({name:"menu",theme:_t,classes:wt}),Ot={name:"BaseMenu",extends:le,props:{popup:{type:Boolean,default:!1},model:{type:Array,default:null},appendTo:{type:[String,Object],default:"body"},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},tabindex:{type:Number,default:0},ariaLabel:{type:String,default:null},ariaLabelledby:{type:String,default:null}},style:Ct,provide:function(){return{$pcMenu:this,$parentInstance:this}}},De={name:"Menuitem",hostName:"Menu",extends:le,inheritAttrs:!1,emits:["item-click","item-mousemove"],props:{item:null,templates:null,id:null,focusedOptionId:null,index:null},methods:{getItemProp:function(e,i){return e&&e.item?Qe(e.item[i]):void 0},getPTOptions:function(e){return this.ptm(e,{context:{item:this.item,index:this.index,focused:this.isItemFocused(),disabled:this.disabled()}})},isItemFocused:function(){return this.focusedOptionId===this.id},onItemClick:function(e){var i=this.getItemProp(this.item,"command");i&&i({originalEvent:e,item:this.item.item}),this.$emit("item-click",{originalEvent:e,item:this.item,id:this.id})},onItemMouseMove:function(e){this.$emit("item-mousemove",{originalEvent:e,item:this.item,id:this.id})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},getMenuItemProps:function(e){return{action:v({class:this.cx("itemLink"),tabindex:"-1","aria-hidden":!0},this.getPTOptions("itemLink")),icon:v({class:[this.cx("itemIcon"),e.icon]},this.getPTOptions("itemIcon")),label:v({class:this.cx("itemLabel")},this.getPTOptions("itemLabel"))}}},directives:{ripple:Ie}},It=["id","aria-label","aria-disabled","data-p-focused","data-p-disabled"],Mt=["href","target"];function Lt(t,e,i,n,h,l){var M=Ge("ripple");return l.visible()?(p(),m("li",v({key:0,id:i.id,class:[t.cx("item"),i.item.class],role:"menuitem",style:i.item.style,"aria-label":l.label(),"aria-disabled":l.disabled()},l.getPTOptions("item"),{"data-p-focused":l.isItemFocused(),"data-p-disabled":l.disabled()||!1}),[s("div",v({class:t.cx("itemContent"),onClick:e[0]||(e[0]=function(A){return l.onItemClick(A)}),onMousemove:e[1]||(e[1]=function(A){return l.onItemMouseMove(A)})},l.getPTOptions("itemContent")),[i.templates.item?i.templates.item?(p(),P(we(i.templates.item),{key:1,item:i.item,label:l.label(),props:l.getMenuItemProps(i.item)},null,8,["item","label","props"])):I("",!0):x((p(),m("a",v({key:0,href:i.item.url,class:t.cx("itemLink"),target:i.item.target,tabindex:"-1","aria-hidden":"true"},l.getPTOptions("itemLink")),[i.templates.itemicon?(p(),P(we(i.templates.itemicon),{key:0,item:i.item,class:E(t.cx("itemIcon"))},null,8,["item","class"])):i.item.icon?(p(),m("span",v({key:1,class:[t.cx("itemIcon"),i.item.icon]},l.getPTOptions("itemIcon")),null,16)):I("",!0),s("span",v({class:t.cx("itemLabel")},l.getPTOptions("itemLabel")),d(l.label()),17)],16,Mt)),[[M]])],16)],16,It)):I("",!0)}De.render=Lt;function Oe(t){return Et(t)||St(t)||Rt(t)||Dt()}function Dt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rt(t,e){if(t){if(typeof t=="string")return oe(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?oe(t,e):void 0}}function St(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Et(t){if(Array.isArray(t))return oe(t)}function oe(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var Re={name:"Menu",extends:Ot,inheritAttrs:!1,emits:["show","hide","focus","blur"],data:function(){return{id:this.$attrs.id,overlayVisible:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:-1}},watch:{"$attrs.id":function(e){this.id=e||ke()}},target:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,list:null,mounted:function(){this.id=this.id||ke(),this.popup||(this.bindResizeListener(),this.bindOutsideClickListener())},beforeUnmount:function(){this.unbindResizeListener(),this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.target=null,this.container&&this.autoZIndex&&ee.clear(this.container),this.container=null},methods:{itemClick:function(e){var i=e.item;this.disabled(i)||(i.command&&i.command(e),this.overlayVisible&&this.hide(),!this.popup&&this.focusedOptionIndex!==e.id&&(this.focusedOptionIndex=e.id))},itemMouseMove:function(e){this.focused&&(this.focusedOptionIndex=e.id)},onListFocus:function(e){this.focused=!0,!this.popup&&this.changeFocusedOptionIndex(0),this.$emit("focus",e)},onListBlur:function(e){this.focused=!1,this.focusedOptionIndex=-1,this.$emit("blur",e)},onListKeyDown:function(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":this.popup&&(Z(this.target),this.hide());case"Tab":this.overlayVisible&&this.hide();break}},onArrowDownKey:function(e){var i=this.findNextOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(i),e.preventDefault()},onArrowUpKey:function(e){if(e.altKey&&this.popup)Z(this.target),this.hide(),e.preventDefault();else{var i=this.findPrevOptionIndex(this.focusedOptionIndex);this.changeFocusedOptionIndex(i),e.preventDefault()}},onHomeKey:function(e){this.changeFocusedOptionIndex(0),e.preventDefault()},onEndKey:function(e){this.changeFocusedOptionIndex(J(this.container,'li[data-pc-section="item"][data-p-disabled="false"]').length-1),e.preventDefault()},onEnterKey:function(e){var i=_e(this.list,'li[id="'.concat("".concat(this.focusedOptionIndex),'"]')),n=i&&_e(i,'a[data-pc-section="itemlink"]');this.popup&&Z(this.target),n?n.click():i&&i.click(),e.preventDefault()},onSpaceKey:function(e){this.onEnterKey(e)},findNextOptionIndex:function(e){var i=J(this.container,'li[data-pc-section="item"][data-p-disabled="false"]'),n=Oe(i).findIndex(function(h){return h.id===e});return n>-1?n+1:0},findPrevOptionIndex:function(e){var i=J(this.container,'li[data-pc-section="item"][data-p-disabled="false"]'),n=Oe(i).findIndex(function(h){return h.id===e});return n>-1?n-1:0},changeFocusedOptionIndex:function(e){var i=J(this.container,'li[data-pc-section="item"][data-p-disabled="false"]'),n=e>=i.length?i.length-1:e<0?0:e;n>-1&&(this.focusedOptionIndex=i[n].getAttribute("id"))},toggle:function(e){this.overlayVisible?this.hide():this.show(e)},show:function(e){this.overlayVisible=!0,this.target=e.currentTarget},hide:function(){this.overlayVisible=!1,this.target=null},onEnter:function(e){Ze(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),this.autoZIndex&&ee.set("menu",e,this.baseZIndex+this.$primevue.config.zIndex.menu),this.popup&&Z(this.list),this.$emit("show")},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&ee.clear(e)},alignOverlay:function(){Je(this.container,this.target);var e=se(this.target);e>se(this.container)&&(this.container.style.minWidth=se(this.target)+"px")},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(i){var n=e.container&&!e.container.contains(i.target),h=!(e.target&&(e.target===i.target||e.target.contains(i.target)));e.overlayVisible&&n&&h?e.hide():!e.popup&&n&&h&&(e.focusedOptionIndex=-1)},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Ue(this.target,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.overlayVisible&&!$e()&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},visible:function(e){return typeof e.visible=="function"?e.visible():e.visible!==!1},disabled:function(e){return typeof e.disabled=="function"?e.disabled():e.disabled},label:function(e){return typeof e.label=="function"?e.label():e.label},onOverlayClick:function(e){ut.emit("overlay-click",{originalEvent:e,target:this.target})},containerRef:function(e){this.container=e},listRef:function(e){this.list=e}},computed:{focusedOptionId:function(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null}},components:{PVMenuitem:De,Portal:He}},At=["id"],Tt=["id","tabindex","aria-activedescendant","aria-label","aria-labelledby"],Ft=["id"];function Vt(t,e,i,n,h,l){var M=ae("PVMenuitem"),A=ae("Portal");return p(),P(A,{appendTo:t.appendTo,disabled:!t.popup},{default:b(function(){return[u(et,v({name:"p-connected-overlay",onEnter:l.onEnter,onLeave:l.onLeave,onAfterLeave:l.onAfterLeave},t.ptm("transition")),{default:b(function(){return[!t.popup||h.overlayVisible?(p(),m("div",v({key:0,ref:l.containerRef,id:h.id,class:t.cx("root"),onClick:e[3]||(e[3]=function(){return l.onOverlayClick&&l.onOverlayClick.apply(l,arguments)})},t.ptmi("root")),[t.$slots.start?(p(),m("div",v({key:0,class:t.cx("start")},t.ptm("start")),[ie(t.$slots,"start")],16)):I("",!0),s("ul",v({ref:l.listRef,id:h.id+"_list",class:t.cx("list"),role:"menu",tabindex:t.tabindex,"aria-activedescendant":h.focused?l.focusedOptionId:void 0,"aria-label":t.ariaLabel,"aria-labelledby":t.ariaLabelledby,onFocus:e[0]||(e[0]=function(){return l.onListFocus&&l.onListFocus.apply(l,arguments)}),onBlur:e[1]||(e[1]=function(){return l.onListBlur&&l.onListBlur.apply(l,arguments)}),onKeydown:e[2]||(e[2]=function(){return l.onListKeyDown&&l.onListKeyDown.apply(l,arguments)})},t.ptm("list")),[(p(!0),m(D,null,V(t.model,function(g,k){return p(),m(D,{key:l.label(g)+k.toString()},[g.items&&l.visible(g)&&!g.separator?(p(),m(D,{key:0},[g.items?(p(),m("li",v({key:0,id:h.id+"_"+k,class:[t.cx("submenuLabel"),g.class],role:"none",ref_for:!0},t.ptm("submenuLabel")),[ie(t.$slots,t.$slots.submenulabel?"submenulabel":"submenuheader",{item:g},function(){return[Q(d(l.label(g)),1)]})],16,Ft)):I("",!0),(p(!0),m(D,null,V(g.items,function(f,H){return p(),m(D,{key:f.label+k+"_"+H},[l.visible(f)&&!f.separator?(p(),P(M,{key:0,id:h.id+"_"+k+"_"+H,item:f,templates:t.$slots,focusedOptionId:l.focusedOptionId,unstyled:t.unstyled,onItemClick:l.itemClick,onItemMousemove:l.itemMouseMove,pt:t.pt},null,8,["id","item","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"])):l.visible(f)&&f.separator?(p(),m("li",v({key:"separator"+k+H,class:[t.cx("separator"),g.class],style:f.style,role:"separator",ref_for:!0},t.ptm("separator")),null,16)):I("",!0)],64)}),128))],64)):l.visible(g)&&g.separator?(p(),m("li",v({key:"separator"+k.toString(),class:[t.cx("separator"),g.class],style:g.style,role:"separator",ref_for:!0},t.ptm("separator")),null,16)):(p(),P(M,{key:l.label(g)+k.toString(),id:h.id+"_"+k,item:g,index:k,templates:t.$slots,focusedOptionId:l.focusedOptionId,unstyled:t.unstyled,onItemClick:l.itemClick,onItemMousemove:l.itemMouseMove,pt:t.pt},null,8,["id","item","index","templates","focusedOptionId","unstyled","onItemClick","onItemMousemove","pt"]))],64)}),128))],16,Tt),t.$slots.end?(p(),m("div",v({key:1,class:t.cx("end")},t.ptm("end")),[ie(t.$slots,"end")],16)):I("",!0)],16,At)):I("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo","disabled"])}Re.render=Vt;const y=t=>(nt("data-v-348b13f1"),t=t(),at(),t),Pt={class:"dashboard-container p-4 lg:p-8 bg-[#F1F5F9] min-h-screen font-sans"},zt={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6"},Nt={class:"flex items-center gap-5"},jt=y(()=>s("div",{class:"brand-icon bg-primary-600 p-4 rounded-3xl shadow-xl shadow-primary-100"},[s("i",{class:"pi pi-bolt text-white text-3xl"})],-1)),Kt={class:"text-3xl font-black text-slate-900 tracking-tight"},Bt={class:"flex items-center gap-2 text-slate-500 font-medium"},Ut=y(()=>s("i",{class:"pi pi-calendar text-xs"},null,-1)),Ht={class:"glass-panel flex flex-wrap items-center gap-2 p-3 bg-white/70 backdrop-blur-xl border border-white rounded-[2.5rem] shadow-xl shadow-slate-200/50"},Wt={class:"flex items-center gap-3 px-4 py-2 border-r border-slate-100"},Xt=y(()=>s("i",{class:"pi pi-filter-fill text-primary-500"},null,-1)),Yt={class:"text-sm font-black text-slate-700"},qt={class:"text-sm"},Zt={class:"flex items-center gap-2 cursor-pointer hover:bg-slate-50 p-2 rounded-xl transition-colors"},Jt={"data-section-id":"kpis",class:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8 section-container"},$t={class:"flex justify-between items-start mb-4 relative z-10"},Qt=y(()=>s("i",{class:"pi pi-ellipsis-v text-slate-300"},null,-1)),Gt={class:"text-slate-500 text-xs font-black uppercase tracking-widest mb-1"},es={class:"flex items-baseline gap-1"},ts={class:"text-3xl font-black text-slate-800"},ss={class:"text-lg font-bold text-slate-400"},is={class:"text-[11px] text-slate-400 mt-3 font-medium"},ns={"data-section-id":"sparklines",class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8 section-container"},as={class:"flex justify-between items-center mb-4"},os={class:"text-xs font-bold text-slate-400 uppercase tracking-tighter"},ls={class:"h-16 w-full"},rs={class:"grid grid-cols-12 gap-8 mb-8"},ds={class:"text-lg font-black text-slate-800"},cs={class:"flex gap-2"},us={class:"flex flex-col"},ps={class:"font-bold text-[10px] text-slate-700"},hs={class:"text-[9px] text-slate-400"},bs={class:"flex items-center gap-2"},ms={class:"text-[9px] font-medium"},fs={class:"mt-8 p-4 bg-primary-50/50 rounded-xl"},vs={class:"text-[10px] font-black text-primary-400 uppercase mb-4 text-center"},gs={class:"h-[120px]"},xs={class:"grid grid-cols-12 gap-8 mb-8"},ys=y(()=>s("i",{class:"pi pi-exclamation-triangle text-rose-500 text-xl"},null,-1)),ks={class:"text-lg font-black text-slate-800"},_s={class:"h-[400px]"},ws={class:"text-lg font-black text-slate-800"},Cs={class:"flex items-center gap-3"},Os=y(()=>s("div",{class:"w-8 h-8 rounded-xl bg-slate-100 flex items-center justify-center"},[s("i",{class:"pi pi-box text-slate-500 text-xs"})],-1)),Is={class:"font-bold text-slate-700 text-xs"},Ms={class:"mt-8 p-4 bg-primary-50 rounded-3xl flex justify-around items-center"},Ls={class:"text-center"},Ds={class:"text-[9px] font-black text-primary-400 uppercase"},Rs={class:"text-lg font-black text-primary-700"},Ss=y(()=>s("div",{class:"w-px h-8 bg-primary-200"},null,-1)),Es={class:"text-center"},As={class:"text-[9px] font-black text-primary-400 uppercase"},Ts={class:"text-lg font-black text-primary-700"},Fs=y(()=>s("div",{class:"w-px h-8 bg-primary-200"},null,-1)),Vs={class:"text-center"},Ps={class:"text-[9px] font-black text-primary-400 uppercase"},zs={class:"text-lg font-black text-primary-700"},Ns={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 section-container"},js={"data-section-id":"preventiveCalendar",class:"bg-white p-8 rounded-xl shadow-xl border border-slate-100"},Ks={class:"font-black text-slate-800 tracking-tight"},Bs=y(()=>s("i",{class:"pi pi-calendar-plus text-primary-500 text-xl cursor-pointer"},null,-1)),Us={class:"space-y-4"},Hs={class:"flex flex-col items-center justify-center min-w-[50px] py-2 bg-primary-50 rounded-xl text-primary-600"},Ws={class:"text-xs font-black uppercase"},Xs={class:"text-xl font-[1000]"},Ys={class:"text-sm font-bold text-slate-800"},qs={class:"text-xs text-slate-400"},Zs={class:"flex gap-1 mt-2"},Js=y(()=>s("span",{class:"w-2 h-2 rounded-full bg-emerald-500"},null,-1)),$s={class:"text-[9px] font-black text-slate-400 uppercase"},Qs={"data-section-id":"riskMatrix",class:"bg-white p-8 rounded-xl shadow-xl border border-slate-100"},Gs={class:"h-[300px]"},ei={class:"mt-4 p-4 bg-rose-50 rounded-xl"},ti={class:"text-[10px] text-rose-600 font-black uppercase mb-1"},si=y(()=>s("i",{class:"pi pi-exclamation-circle"},null,-1)),ii={class:"text-xs font-bold text-rose-900"},ni={"data-section-id":"technicianEfficiency",class:"bg-white p-8 rounded-xl shadow-xl border border-slate-100"},ai={class:"space-y-6"},oi={class:"flex justify-between items-center mb-2"},li={class:"flex items-center gap-2"},ri={class:"text-sm font-bold text-slate-700"},di={class:"text-xs font-black text-primary-600"},ci={class:"flex justify-between mt-2 text-[9px] font-bold text-slate-400 uppercase"},ui={class:"grid grid-cols-12 gap-6 mb-10 items-stretch mt-8"},pi={class:"col-span-12 lg:col-span-8 space-y-6"},hi={class:"flex items-center gap-3"},bi=y(()=>s("div",{class:"w-1.5 h-8 bg-primary-600 rounded-full"},null,-1)),mi={class:"text-xl font-black text-slate-800 tracking-tight"},fi={class:"flex gap-2"},vi={class:"h-[400px] px-4 pb-2"},gi={class:"grid grid-cols-3 divide-x divide-slate-100 bg-slate-50/80 border-t border-slate-100 mt-4"},xi={class:"p-5 text-center"},yi={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1"},ki={class:"text-2xl font-black text-primary-600"},_i={class:"p-5 text-center"},wi={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1"},Ci={class:"text-2xl font-black text-slate-800"},Oi=y(()=>s("span",{class:"text-xs font-medium text-slate-500"},"hrs",-1)),Ii={class:"p-5 text-center"},Mi={class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1"},Li={class:"col-span-12 lg:col-span-4 space-y-6"},Di={"data-section-id":"budget",class:"bg-[#0F172A] p-7 rounded-xl text-white shadow-2xl relative overflow-hidden group"},Ri=y(()=>s("div",{class:"absolute -top-4 -right-4 p-8 opacity-10 group-hover:rotate-12 group-hover:scale-110 transition-transform duration-500"},[s("i",{class:"pi pi-wallet text-[7rem]"})],-1)),Si=y(()=>s("span",{class:"w-1.5 h-1.5 bg-primary-500 rounded-full"},null,-1)),Ei={class:"mb-8 relative z-10"},Ai={class:"flex justify-between items-end mb-3"},Ti={class:"text-4xl font-black tracking-tighter"},Fi={class:"text-slate-400 text-xs font-medium mb-1"},Vi={class:"w-full bg-slate-800 rounded-full h-3 overflow-hidden"},Pi={key:0,class:"space-y-3 relative z-10"},zi={class:"flex items-center gap-3"},Ni={class:"text-xs font-semibold text-slate-300"},ji={class:"text-sm font-black text-white"},Ki={"data-section-id":"stockFlow",class:"mt-10 section-container"},Bi={class:"lg:col-span-4 flex flex-col h-full justify-center"},Ui={class:"mb-8"},Hi={class:"text-2xl font-black text-slate-800 tracking-tight mb-2"},Wi={class:"text-slate-400 text-sm font-medium leading-relaxed"},Xi={class:"space-y-4"},Yi={class:"group flex justify-between items-center p-5 bg-emerald-50/50 rounded-2xl border border-emerald-100 hover:bg-emerald-50 transition-all duration-300"},qi={class:"flex items-center gap-3"},Zi=y(()=>s("i",{class:"pi pi-arrow-down-left text-emerald-600 font-bold"},null,-1)),Ji={class:"text-emerald-700 font-bold uppercase text-xs tracking-wider"},$i={class:"font-black text-xl text-emerald-800"},Qi={class:"group flex justify-between items-center p-5 bg-rose-50/50 rounded-2xl border border-rose-100 hover:bg-rose-50 transition-all duration-300"},Gi={class:"flex items-center gap-3"},en=y(()=>s("i",{class:"pi pi-arrow-up-right text-rose-600 font-bold"},null,-1)),tn={class:"text-rose-700 font-bold uppercase text-xs tracking-wider"},sn={class:"font-black text-xl text-rose-800"},nn={class:"lg:col-span-8 h-[350px] relative"},an={__name:"Dashboard",props:{usersCount:Number,activeTasksCount:Number,timeSpent:String,averageInterventionTime:String,backlogTasksCount:Number,backlogHours:Number,awaitingWorkOrdersCount:Number,inProgressWorkOrdersCount:Number,preventiveMaintenanceRate:Number,mttr:Number,mtbf:Number,preventiveComplianceRate:Number,availabilityRate:{type:Number,default:94.5},completedLast24hCount:Number,oee:{type:Number,default:78.2},budgetTotal:Number,expensesTotal:Number,maintenanceCostDistribution:Object,sparklineData:Object,sparePartsMovement:Object,stockRotationData:Object,tasksByStatus:Object,tasksByPriority:Object,monthlyVolumeData:Object,failuresByType:Object,topFailingEquipmentsChart:Object,maintenanceStatusDurationChart:Object,filters:Object,equipments:Array,zones:Array,workOrders:Array,alertSpareParts:Array,technicianEfficiency:Array,calendarEvents:Array,recentInterventions:Array,urgentWorkOrdersCount:Number,riskMatrixData:Object,totalStockIn:Number,totalStockOut:Number,averageClosureTime:Number,teamEfficiencyChange:Number,mainChartData:Object},setup(t){const e=t,i=r=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(r||0),{t:n}=tt(),h=S(!1),l=S(e.filters.equipment_id),M=S(e.filters.zone_id),A=S("status"),g=S(),k={kpis:{label:n("dashboard.sections.kpis"),visible:!0},sparklines:{label:n("dashboard.sections.sparklines"),visible:!0},workOrders:{label:n("dashboard.sections.workOrders"),visible:!0},stockAlerts:{label:n("dashboard.sections.stockAlerts"),visible:!0},preventiveCalendar:{label:n("dashboard.sections.preventiveCalendar"),visible:!0},riskMatrix:{label:n("dashboard.sections.riskMatrix"),visible:!0},technicianEfficiency:{label:n("dashboard.sections.technicianEfficiency"),visible:!0},mainChart:{label:n("dashboard.sections.mainChart"),visible:!1},statusDuration:{label:n("dashboard.sections.statusDuration"),visible:!0},statusDoughnut:{label:n("dashboard.sections.statusDoughnut"),visible:!1},budget:{label:n("dashboard.sections.budget"),visible:!0},criticalityAnalysis:{label:n("dashboard.sections.criticalityAnalysis"),visible:!0},recentInterventions:{label:n("dashboard.sections.recentInterventions"),visible:!0},stockFlow:{label:n("dashboard.sections.stockFlow"),visible:!0}},f=S({kpis:{label:"Indicateurs Clés (KPIs)",visible:!0},sparklines:{label:"Mini-Graphiques",visible:!0},workOrders:{label:"File d'attente",visible:!0},stockAlerts:{label:"Alertes Stock",visible:!0},preventiveCalendar:{label:"Calendrier Préventif",visible:!0},riskMatrix:{label:"Matrice de Risques",visible:!0},technicianEfficiency:{label:"Efficacité Techniciens",visible:!0},mainChart:{label:"Flux de Maintenance",visible:!1},statusDuration:{label:"Durée par Statut",visible:!0},statusDoughnut:{label:"Répartition par Statut",visible:!1},budget:{label:"Finances",visible:!0},criticalityAnalysis:{label:"Analyse Criticité",visible:!0},recentInterventions:{label:"Interventions Récentes",visible:!0},stockFlow:{label:"Flux de Stock",visible:!0}}),H=F(()=>[...Object.entries(f.value).map(([r,c])=>({label:c.label,command:()=>_(r),key:r})),{separator:!0},{label:n("dashboard.sections.reset"),icon:"pi pi-refresh",command:Pe}]);F(()=>({maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{color:"#64748b",usePointStyle:!0,font:{size:11}}},tooltip:{backgroundColor:"#1e293b",padding:12,cornerRadius:8}}}));const Se=F(()=>{var c,T,R,w;const r=e.sparklineData;return[{key:"activeTasks",label:n("dashboard.sparklines.workOrders"),value:((c=r==null?void 0:r.activeTasks)==null?void 0:c.value)||0,icon:"pi pi-briefcase",color:"#6366F1"},{key:"backlog",label:n("dashboard.sparklines.backlog"),value:((T=r==null?void 0:r.backlog)==null?void 0:T.value)||0,icon:"pi pi-clock",color:"#F59E0B"},{key:"timeSpent",label:n("dashboard.sparklines.laborHours"),value:((R=r==null?void 0:r.timeSpent)==null?void 0:R.value)||"0h",icon:"pi pi-users",color:"#10B981"},{key:"averageInterventionTime",label:n("dashboard.sparklines.avgMttr"),value:((w=r==null?void 0:r.averageInterventionTime)==null?void 0:w.value)||"0m",icon:"pi pi-wrench",color:"#EF4444"}].map(L=>{var W,Y,z,q,X,o,O,de,ce,ue,pe,he,be,me,fe,ve,ge,xe,ye;return{...L,chartData:{labels:(((Y=(W=r==null?void 0:r[L.key])==null?void 0:W.chartData)==null?void 0:Y.labels)||[]).concat(Array(Math.max(0,6-(((X=(q=(z=r==null?void 0:r[L.key])==null?void 0:z.chartData)==null?void 0:q.labels)==null?void 0:X.length)||0))).fill("")),datasets:[{data:(((ce=(de=(O=(o=r==null?void 0:r[L.key])==null?void 0:o.chartData)==null?void 0:O.datasets)==null?void 0:de[0])==null?void 0:ce.data)||[]).concat(Array(Math.max(0,6-(((me=(be=(he=(pe=(ue=r==null?void 0:r[L.key])==null?void 0:ue.chartData)==null?void 0:pe.datasets)==null?void 0:he[0])==null?void 0:be.data)==null?void 0:me.length)||0))).fill(((ye=(xe=(ge=(ve=(fe=r==null?void 0:r[L.key])==null?void 0:fe.chartData)==null?void 0:ve.datasets)==null?void 0:ge[0])==null?void 0:xe.data)==null?void 0:ye.slice(-1)[0])??0)),borderColor:L.color,backgroundColor:L.color+"10",fill:!0,tension:.4,borderWidth:2,pointRadius:0}]}}})});F(()=>{const c=A.value==="status"?e.tasksByStatus:e.tasksByPriority;return{labels:(c==null?void 0:c.labels)||[],datasets:[{data:(c==null?void 0:c.data)||[],backgroundColor:["#6366f1","#10b981","#f59e0b","#ef4444","#94a3b8"],hoverOffset:15,borderWidth:0}]}}),S([{label:n("dashboard.kpis.availabilityRate"),value:"98.4",unit:"%",icon:"pi-bolt",color:"primary",trend:2.1,progress:98},{label:n("dashboard.kpis.globalMtbf"),value:"156",unit:"hrs",icon:"pi-sync",color:"emerald",trend:12,progress:85},{label:n("dashboard.kpis.oee"),value:"82.1",unit:"%",icon:"pi-chart-bar",color:"amber",trend:-1.4,progress:82},{label:n("dashboard.kpis.maintenanceBacklog"),value:"24",unit:"WO",icon:"pi-clock",color:"rose",trend:5,progress:40},{label:n("dashboard.kpis.preventiveCompliance"),value:"94",unit:"%",icon:"pi-check-circle",color:"blue",trend:.8,progress:94}]);const Ee={plugins:{legend:{display:!1},tooltip:{enabled:!1}},maintainAspectRatio:!1,scales:{x:{display:!1},y:{display:!1}}},Ae={maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,font:{weight:"bold"}}}},scales:{y:{beginAtZero:!1,grid:{color:"#F1F5F9"}},x:{grid:{display:!1}}}},Te=F(()=>{const r=e.stockRotationData;return{labels:(r==null?void 0:r.labels)||["S1","S2","S3","S4"],datasets:[{label:n("dashboard.stockRotation.entries"),backgroundColor:"#6366F1",data:(r==null?void 0:r.entries)||[],borderRadius:5},{label:n("dashboard.stockRotation.exits"),backgroundColor:"#F43F5E",data:(r==null?void 0:r.exits)||[],borderRadius:5}]}}),Fe={maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{r:{grid:{color:"#F1F5F9"},pointLabels:{font:{size:10,weight:"bold"}}}}},Ve={maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{display:!1},y:{display:!1}}},G=()=>{h.value=!0,it.get(route("dashboard.index"),{equipment_id:l.value,zone_id:M.value},{preserveState:!0,replace:!0,onFinish:()=>h.value=!1})},_=r=>{f.value[r].visible=!f.value[r].visible,localStorage.setItem("dashboardSections",JSON.stringify(f.value))},Pe=()=>{f.value=JSON.parse(JSON.stringify(k)),localStorage.setItem("dashboardSections",JSON.stringify(f.value))},ze=r=>{g.value.toggle(r)};st(()=>{const r=localStorage.getItem("dashboardSections");if(r){const c=JSON.parse(r);f.value=Object.keys(k).reduce((T,R)=>(T[R]=c[R]||k[R],T),{})}});const Ne=r=>{const c="px-3 py-1 rounded-full text-[10px] font-black ";switch(r){case"CRITIQUE":return c+"bg-rose-100 text-rose-600";case"HAUTE":return c+"bg-amber-100 text-amber-600";default:return c+"bg-slate-100 text-slate-600"}},je=r=>{switch(r){case"CRITIQUE":return"danger";case"HAUTE":return"warning";case"MOYENNE":return"info";default:return"secondary"}},re=S(!1),Ke=F(()=>{var c;const r=e.sparePartsMovement;return{labels:(c=r==null?void 0:r.labels)!=null&&c.length?r.labels:["Sem 1","Sem 2","Sem 3","Sem 4"],datasets:[{label:n("dashboard.stockFlow.entries"),data:(r==null?void 0:r.entries)||[0,0,0,0],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.4,pointRadius:4,pointHoverRadius:6},{label:n("dashboard.stockFlow.exits"),data:(r==null?void 0:r.exits)||[0,0,0,0],borderColor:"#EF4444",backgroundColor:"transparent",borderWidth:3,borderDash:[5,5],tension:.4,pointRadius:4,pointHoverRadius:6}]}}),Be=F(()=>({maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,padding:20,font:{size:12,weight:"600"}}},tooltip:{backgroundColor:"#1e293b",padding:12,cornerRadius:10,titleFont:{size:14}}},scales:{x:{grid:{display:!1},ticks:{color:"#94a3b8"}},y:{grid:{color:"#f1f5f9",drawBorder:!1},ticks:{color:"#94a3b8"},beginAtZero:!0}}}));return(r,c)=>{const T=ae("Head"),R=ot,w=Ye,L=Le,W=qe,Y=Xe,z=We,q=Ie;return p(),P(lt,null,{default:b(()=>{var X;return[u(T,{title:"MaintenX Enterprise ERP - v2.0"}),s("div",Pt,[s("header",zt,[s("div",Nt,[jt,s("div",null,[s("h1",Kt,d(a(n)("dashboard.title")),1),s("div",Bt,[Ut,s("span",null,d(a(n)("dashboard.generatedAt",{time:new Date().toLocaleTimeString()})),1),u(a(K),{value:a(n)("dashboard.liveData"),severity:"success",class:"ml-2 !text-[10px] !px-2",pulse:""},null,8,["value"])])])]),s("div",Ht,[s("div",Wt,[Xt,s("span",Yt,d(a(n)("dashboard.filters.title")),1)]),u(a(Ce),{modelValue:M.value,"onUpdate:modelValue":c[0]||(c[0]=o=>M.value=o),options:t.zones,optionLabel:"title",placeholder:a(n)("dashboard.filters.zonePlaceholder"),class:"custom-dropdown w-48",onChange:G},null,8,["modelValue","options","placeholder"]),u(a(Ce),{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=o=>l.value=o),options:t.equipments,optionLabel:"designation",placeholder:a(n)("dashboard.filters.equipmentPlaceholder"),class:"custom-dropdown w-48",onChange:G},null,8,["modelValue","options","placeholder"]),u(a(B),{icon:"pi pi-sync",onClick:G,loading:h.value,class:"p-button-rounded p-button-primary shadow-lg hover:scale-105 active:scale-95 transition-all"},null,8,["loading"]),u(a(rt),{layout:"vertical",class:"hidden lg:block"}),x(u(a(B),{icon:"pi pi-eye",onClick:ze,"aria-haspopup":"true","aria-controls":"overlay_menu",class:"p-button-rounded p-button-text"},null,512),[[z,a(n)("dashboard.manageSections"),void 0,{bottom:!0}]]),u(a(Re),{ref_key:"menu",ref:g,id:"overlay_menu",model:H.value,popup:!0},{item:b(({item:o,props:O})=>[x((p(),m("a",v({class:"flex items-center"},O.action),[o.key?(p(),P(R,{key:0,modelValue:f.value[o.key].visible,binary:!0,class:"mr-2"},null,8,["modelValue"])):I("",!0),s("span",qt,d(o.label),1)],16)),[[q]])]),_:1},8,["model"]),s("div",Zt,[u(a($),{icon:"pi pi-bell",class:"p-overlay-badge",shape:"circle"},{default:b(()=>[u(a(K),{value:"3",severity:"danger",class:"absolute -top-1 -right-1"})]),_:1})])])]),x(s("section",Jt,[(p(!0),m(D,null,V([{label:a(n)("dashboard.kpis.availability"),value:t.availabilityRate,unit:"%",icon:"pi-power-off",color:"primary",desc:a(n)("dashboard.kpis.availabilityDesc")},{label:a(n)("dashboard.kpis.preventiveRate"),value:t.preventiveMaintenanceRate,unit:"%",icon:"pi-verified",color:"emerald",desc:a(n)("dashboard.kpis.preventiveRateDesc")},{label:a(n)("dashboard.kpis.mtbf"),value:t.mtbf,unit:"j",icon:"pi-sync",color:"amber",desc:a(n)("dashboard.kpis.mtbfDesc")},{label:a(n)("dashboard.kpis.oee"),value:t.oee,unit:"%",icon:"pi-percentage",color:"red",desc:a(n)("dashboard.kpis.oeeDesc")}],o=>(p(),m("div",{key:o.label,class:"kpi-card group"},[s("div",{onDblclick:c[2]||(c[2]=O=>_("kpis")),class:"relative bg-white p-6 rounded-xl border border-slate-100 shadow-sm overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1 section-title"},[s("div",{class:E(`absolute -right-4 -top-4 w-24 h-24 bg-${o.color}-50 rounded-full opacity-50 group-hover:scale-150 transition-transform duration-500`)},null,2),s("div",$t,[s("div",{class:E(`p-3 rounded-xl bg-${o.color}-500 text-white shadow-lg`)},[s("i",{class:E(`pi ${o.icon}`)},null,2)],2),Qt]),s("h3",Gt,d(o.label),1),s("div",es,[s("span",ts,d(o.value),1),s("span",ss,d(o.unit),1)]),s("p",is,d(o.desc),1)],32)]))),128))],512),[[C,f.value.kpis.visible]]),x(s("section",ns,[(p(!0),m(D,null,V(Se.value,o=>(p(),m("div",{key:o.label,onDblclick:c[3]||(c[3]=O=>_("sparklines")),class:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm flex flex-col justify-between section-title"},[s("div",as,[s("span",os,d(o.label),1),u(a(K),{value:o.value,style:ne({backgroundColor:o.color+"20",color:o.color}),class:"!rounded-xl"},null,8,["value","style"])]),s("div",ls,[u(a(j),{type:"line",data:o.chartData,options:Ee,class:"h-full"},null,8,["data"])])],32))),128))],512),[[C,f.value.sparklines.visible]]),s("div",rs,[x(u(a(N),{"data-section-id":"workOrders",class:"col-span-12 xl:col-span-7 !rounded-xl border-none shadow-xl shadow-slate-200/40 bg-white section-container"},{title:b(()=>[s("div",{onDblclick:c[4]||(c[4]=o=>_("workOrders")),class:"flex justify-between items-center px-4 pt-2 section-title"},[s("span",ds,d(a(n)("dashboard.workOrders.title")),1),s("div",cs,[u(a(K),{value:a(n)("dashboard.workOrders.urgent",{count:e.urgentWorkOrdersCount||0}),severity:"danger",rounded:""},null,8,["value"]),u(a(K),{value:a(n)("dashboard.workOrders.inProgress",{count:e.inProgressWorkOrdersCount||0}),severity:"info",rounded:""},null,8,["value"])])],32)]),content:b(()=>[u(W,{value:e.workOrders,scrollable:"",scrollHeight:"450px",class:"p-datatable-sm custom-erp-table"},{default:b(()=>[u(w,{field:"id",header:a(n)("dashboard.workOrders.columns.id"),class:"font-black text-primary-600 w-20"},null,8,["header"]),u(w,{field:"asset",header:a(n)("dashboard.workOrders.columns.equipment")},{body:b(({data:o})=>[s("div",us,[s("span",ps,d(o.asset),1),s("span",hs,d(o.location),1)])]),_:1},8,["header"]),u(w,{field:"priority",header:a(n)("dashboard.workOrders.columns.priority")},{body:b(({data:o})=>[s("span",{class:E(Ne(o.priority))},d(o.priority),3)]),filterclear:b(o=>[]),_:1},8,["header"]),u(w,{field:"technician",header:a(n)("dashboard.workOrders.columns.assigned")},{body:b(({data:o})=>[s("div",bs,[u(a($),{image:o.tech_img,shape:"circle",size:"small"},null,8,["image"]),s("span",ms,d(o.technician),1)])]),_:1},8,["header"]),u(w,{field:"progress",header:a(n)("dashboard.workOrders.columns.progress")},{body:b(({data:o})=>[u(L,{modelValue:o.progress,"onUpdate:modelValue":O=>o.progress=O,size:35,readonly:"",strokeWidth:"8",rangeColor:"#F1F5F9",valueColor:"#6366F1"},null,8,["modelValue","onUpdate:modelValue"])]),_:1},8,["header"]),u(w,{header:a(n)("dashboard.workOrders.columns.actions")},{body:b(()=>[u(a(B),{icon:"pi pi-external-link",class:"p-button-rounded p-button-text p-button-sm"})]),_:1},8,["header"])]),_:1},8,["value"])]),_:1},512),[[C,f.value.workOrders.visible]]),x(u(a(N),{"data-section-id":"stockAlerts",class:"col-span-12 xl:col-span-5 !rounded-xl border-none shadow-xl shadow-slate-200/40 bg-white overflow-hidden section-container"},{title:b(()=>[s("div",{onDblclick:c[5]||(c[5]=o=>_("stockAlerts")),class:"px-4 pt-2 font-black text-slate-800 section-title"},d(a(n)("dashboard.stockAlerts.title")),33)]),content:b(()=>[s("div",fs,[s("h4",vs,d(a(n)("dashboard.stockRotation.title")),1),s("div",gs,[u(a(j),{type:"bar",data:Te.value,options:Ve},null,8,["data"])])])]),_:1},512),[[C,f.value.stockAlerts.visible]])]),s("div",xs,[x(u(a(N),{"data-section-id":"criticalityAnalysis",class:"col-span-12 xl:col-span-7 !rounded-xl border-none shadow-xl shadow-slate-200/50 bg-white section-container"},{title:b(()=>[s("div",{onDblclick:c[6]||(c[6]=o=>_("criticalityAnalysis")),class:"flex items-center gap-3 px-2 pt-2 section-title"},[ys,s("span",ks,d(a(n)("dashboard.criticalityAnalysis.title")),1)],32)]),content:b(()=>{var o,O;return[s("div",_s,[u(a(j),{type:"bar",data:{labels:((o=e.topFailingEquipmentsChart)==null?void 0:o.labels)||["CNC-01","POMPE-P2","TURBINE-X","COMP-04","LIGNE-3"],datasets:[{label:a(n)("dashboard.criticalityAnalysis.failuresCount"),data:((O=e.topFailingEquipmentsChart)==null?void 0:O.data)||[15,12,9,8,5],backgroundColor:["#EF4444","#F43F5E","#FB7185","#FDA4AF","#FECDD3"],borderRadius:12,barThickness:40}]},options:{...r.mainChartOptions,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}},class:"h-full"},null,8,["data","options"])])]}),_:1},512),[[C,f.value.criticalityAnalysis.visible]]),x(u(a(N),{"data-section-id":"recentInterventions",class:"col-span-12 xl:col-span-5 !rounded-xl border-none shadow-xl shadow-slate-200/50 bg-white overflow-hidden section-container"},{title:b(()=>[s("div",{onDblclick:c[7]||(c[7]=o=>_("recentInterventions")),class:"flex justify-between items-center px-4 pt-2 section-title"},[s("span",ws,d(a(n)("dashboard.recentInterventions.title")),1),u(a(B),{label:a(n)("dashboard.recentInterventions.seeAll"),class:"p-button-text p-button-sm font-bold"},null,8,["label"])],32)]),content:b(()=>[u(W,{value:e.recentInterventions||[],rows:5,class:"p-datatable-sm custom-table"},{default:b(()=>[u(w,{field:"equipment",header:a(n)("dashboard.recentInterventions.columns.asset")},{body:b(o=>[s("div",Cs,[Os,s("span",Is,d(o.data.equipment),1)])]),_:1},8,["header"]),u(w,{field:"priority",header:a(n)("dashboard.recentInterventions.columns.priority")},{body:b(o=>[u(a(K),{value:o.data.priority,severity:je(o.data.priority),class:"!text-[9px] !px-2"},null,8,["value","severity"])]),_:1},8,["header"]),u(w,{field:"technician",header:a(n)("dashboard.recentInterventions.columns.tech")},{body:b(o=>[u(a(dt),null,{default:b(()=>[x(u(a($),{image:o.data.tech_image,shape:"circle",size:"small"},null,8,["image"]),[[z,o.data.technician,void 0,{top:!0}]])]),_:2},1024)]),_:1},8,["header"]),u(w,{field:"status",header:a(n)("dashboard.recentInterventions.columns.status")},{body:b(o=>[s("i",{class:E(["pi",o.data.status==="Completed"?"pi-check-circle text-emerald-500":"pi-spin pi-spinner text-amber-500"])},null,2)]),_:1},8,["header"])]),_:1},8,["value"]),s("div",Ms,[s("div",Ls,[s("p",Ds,d(a(n)("dashboard.recentInterventions.inProgress")),1),s("p",Rs,d(e.inProgressWorkOrdersCount||0),1)]),Ss,s("div",Es,[s("p",As,d(a(n)("dashboard.recentInterventions.pending")),1),s("p",Ts,d(e.awaitingWorkOrdersCount||0),1)]),Fs,s("div",Vs,[s("p",Ps,d(a(n)("dashboard.recentInterventions.closed24h")),1),s("p",zs,d(e.completedLast24hCount||0),1)])])]),_:1},512),[[C,f.value.recentInterventions.visible]])]),s("div",null,[s("section",Ns,[x(s("div",js,[s("div",{onDblclick:c[8]||(c[8]=o=>_("preventiveCalendar")),class:"flex justify-between items-center mb-6 section-title"},[s("h3",Ks,d(a(n)("dashboard.preventiveCalendar.title")),1),Bs],32),s("div",Us,[(p(!0),m(D,null,V(e.calendarEvents,o=>(p(),m("div",{key:o.title,class:"flex gap-4 items-start p-3 hover:bg-slate-50 rounded-xl transition-colors"},[s("div",Hs,[s("span",Ws,d(o.month),1),s("span",Xs,d(o.day),1)]),s("div",null,[s("h4",Ys,d(o.title),1),s("p",qs,d(o.duration)+" • "+d(o.team),1),s("div",Zs,[Js,s("span",$s,d(a(n)("dashboard.preventiveCalendar.confirmed")),1)])])]))),128))])],512),[[C,f.value.preventiveCalendar.visible]]),x(s("div",Qs,[s("h3",{onDblclick:c[9]||(c[9]=o=>_("riskMatrix")),class:"font-black text-slate-800 mb-6 section-title"},d(a(n)("dashboard.riskMatrix.title")),33),s("div",Gs,[u(a(j),{type:"radar",data:e.riskMatrixData,options:Fe},null,8,["data"])]),s("div",ei,[s("p",ti,[si,Q(" "+d(a(n)("dashboard.riskMatrix.criticalRisk")),1)]),s("p",ii,d(a(n)("dashboard.riskMatrix.criticalRiskExample")),1)])],512),[[C,f.value.riskMatrix.visible]]),x(s("div",ni,[s("h3",{onDblclick:c[10]||(c[10]=o=>_("technicianEfficiency")),class:"font-black text-slate-800 mb-6 section-title"},d(a(n)("dashboard.technicianEfficiency.title")),33),s("div",ai,[(p(!0),m(D,null,V(e.technicianEfficiency,o=>(p(),m("div",{key:o.name},[s("div",oi,[s("div",li,[u(a($),{image:o.img,shape:"circle"},null,8,["image"]),s("span",ri,d(o.name),1)]),s("span",di,d(o.load)+"% Load",1)]),u(a(ct),{value:o.load,showValue:!1,class:"!h-2 !bg-slate-100"},{default:b(()=>[s("div",{class:"h-full bg-primary-500 rounded-full",style:ne({width:o.load+"%"})},null,4)]),_:2},1032,["value"]),s("div",ci,[s("span",null,d(a(n)("dashboard.technicianEfficiency.completed",{count:o.completed})),1),s("span",null,d(a(n)("dashboard.technicianEfficiency.pending",{count:o.backlog})),1)])]))),128))])],512),[[C,f.value.technicianEfficiency.visible]])]),s("div",ui,[s("div",pi,[x(u(a(N),{"data-section-id":"mainChart",class:"!rounded-xl border-none shadow-lg shadow-slate-200/50 bg-white overflow-hidden transition-all duration-300"},{title:b(()=>[s("div",{onDblclick:c[11]||(c[11]=o=>_("mainChart")),class:"flex justify-between items-center p-5 cursor-pointer hover:bg-slate-50 transition-colors"},[s("div",hi,[bi,s("span",mi,d(a(n)("dashboard.mainChart.title")),1)]),s("div",fi,[x(u(a(B),{icon:"pi pi-download",class:"p-button-rounded p-button-text p-button-secondary hover:bg-primary-50"},null,512),[[z,a(n)("dashboard.mainChart.exportPdf"),void 0,{top:!0}]]),u(a(B),{icon:"pi pi-ellipsis-h",class:"p-button-rounded p-button-text p-button-secondary"})])],32)]),content:b(()=>[s("div",vi,[u(a(j),{type:"bar",data:e.mainChartData,options:Ae,class:"h-full"},null,8,["data"])]),s("div",gi,[s("div",xi,[s("p",yi,d(a(n)("dashboard.mainChart.availabilityRatio")),1),s("p",ki,d(e.availabilityRate||0)+"%",1)]),s("div",_i,[s("p",wi,d(a(n)("dashboard.mainChart.avgClosure")),1),s("p",Ci,[Q(d(e.averageClosureTime||0)+" ",1),Oi])]),s("div",Ii,[s("p",Mi,d(a(n)("dashboard.mainChart.teamEfficiency")),1),s("p",{class:E(["text-2xl font-black",e.teamEfficiencyChange>=0?"text-emerald-500":"text-rose-500"])},d(e.teamEfficiencyChange>=0?"+":"")+d(e.teamEfficiencyChange||0)+"% ",3)])])]),_:1},512),[[C,f.value.mainChart.visible]])]),s("div",Li,[x(s("div",Di,[Ri,s("h3",{onDblclick:c[12]||(c[12]=o=>_("budget")),class:"text-slate-400 text-[10px] font-black uppercase tracking-[0.3em] mb-8 cursor-pointer flex items-center gap-2"},[Si,Q(" "+d(a(n)("dashboard.budget.title")),1)],32),s("div",Ei,[s("div",Ai,[s("span",Ti,d(i(e.expensesTotal)),1),s("span",Fi,"/ "+d(i(e.budgetTotal)),1)]),s("div",Vi,[s("div",{class:"h-full bg-gradient-to-r from-primary-500 via-indigo-500 to-purple-500 transition-all duration-1000",style:ne({width:e.expensesTotal/e.budgetTotal*100+"%"})},null,4)])]),(X=e.maintenanceCostDistribution)!=null&&X.items?(p(),m("div",Pi,[(p(!0),m(D,null,V(e.maintenanceCostDistribution.items,o=>(p(),m("div",{key:o.label,class:"flex justify-between items-center bg-white/5 backdrop-blur-sm p-3.5 rounded-xl border border-white/5 hover:border-white/10 hover:bg-white/10 transition-all"},[s("div",zi,[s("div",{class:E(["w-2.5 h-2.5 rounded-full shadow-[0_0_8px_rgba(255,255,255,0.2)]",o.color])},null,2),s("span",Ni,d(o.label),1)]),s("span",ji,d(o.value)+"%",1)]))),128))])):I("",!0)],512),[[C,f.value.budget.visible]])])])]),x(s("section",Ki,[u(a(N),{class:"!rounded-2xl border-none shadow-xl shadow-slate-200/50 bg-white overflow-hidden transition-all duration-300"},{content:b(()=>[s("div",{onDblclick:c[13]||(c[13]=o=>_("stockFlow")),class:"grid grid-cols-1 lg:grid-cols-12 gap-10 items-center p-6 cursor-pointer"},[s("div",Bi,[s("div",Ui,[s("h3",Hi,d(a(n)("dashboard.stockFlow.title")),1),s("p",Wi,d(a(n)("dashboard.stockFlow.description")),1)]),s("div",Xi,[s("div",Yi,[s("div",qi,[Zi,s("span",Ji,d(a(n)("dashboard.stockFlow.restock")),1)]),s("span",$i,"+"+d(e.totalStockIn||0),1)]),s("div",Qi,[s("div",Gi,[en,s("span",tn,d(a(n)("dashboard.stockFlow.consumption")),1)]),s("span",sn,"-"+d(e.totalStockOut||0),1)])])]),s("div",nn,[u(a(j),{type:"line",data:Ke.value,options:Be.value,class:"h-full w-full"},null,8,["data","options"])])],32)]),_:1})],512),[[C,f.value.stockFlow.visible]])]),u(Y,{visible:re.value,"onUpdate:visible":c[14]||(c[14]=o=>re.value=o),header:a(n)("dashboard.createWoDialog.title"),modal:!0,class:"w-full max-w-2xl"},null,8,["visible","header"])]}),_:1})}}},An=pt(an,[["__scopeId","data-v-348b13f1"]]);export{An as default};
